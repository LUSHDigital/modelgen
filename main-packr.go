package main

import "github.com/gobuffalo/packr"

// !!! GENERATED FILE !!!
// Do NOT hand edit this file!!
// It is recommended that you DO NOT check into this file into SCM.
// We STRONGLY recommend you delete this file after you have built your
// Go binary. You can use the "packr clean" command to clean up this,
// and any other packr generated files.
func init() {
	packr.PackJSONBytes("./tmpl", "model.html", "\"e3tkZWZpbmUgIm1vZGVsIn19CnBhY2thZ2Uge3sgLlBhY2thZ2VOYW1lIH19CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKfCBDb2RlIGdlbmVyYXRlZCBieSBtb2RlbGdlbiB8CnwgICAgICAgIERPIE5PVCBFRElULiAgICAgICAgfAorLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi8vIElmIHlvdSB3YW50IHRvIGV4dGVuZCBiZWhhdmlvdXI6Ci8vIFBsZWFzZSBjcmVhdGUgYSBjdXN0b20gZmlsZSBpbiB0aGlzIGRpcmVjdG9yeQovLyBhbmQgY3JlYXRlIHRoZSBtZXRob2RzIHRoZXJlIHRvIGF2b2lkIG92ZXJ3cml0aW5nIHlvdXIgY29kZSB3aXRoIHRoZSBnZW5lcmF0ZWQgb25lLgoKaW1wb3J0ICgKImZtdCIKImRhdGFiYXNlL3NxbCIKICAgIHt7IHJhbmdlICRrLCAkdjo9IC5Nb2RlbC5JbXBvcnRzIH19CiAgICAie3ska319IgogICAge3stIGVuZCB9fQopCgovLyB7ey5Nb2RlbC5OYW1lfX0gcmVwcmVzZW50cyBhIHJvdyBpbiB0aGUge3suTW9kZWwuVGFibGVOYW1lfX0gdGFibGUKdHlwZSB7ey5Nb2RlbC5OYW1lfX0gc3RydWN0IHsKICAgIHt7IHJhbmdlICRrLCAkdjo9IC5Nb2RlbC5GaWVsZHMgfX0KICAgICAgICB7eyAkdi5OYW1lIH19IHt7ICR2LlR5cGUgfX0gYGpzb246Int7JHYuQ29sdW1uTmFtZX19ImAKICAgIHt7LSBlbmQgfX0Kb2Zmc2V0IGludApsaW1pdCBpbnQKfQoKLy8gSW5zZXJ0IGEgbmV3IHt7Lk1vZGVsLk5hbWV9fSByb3cgaW4gdGhlIHt7Lk1vZGVsLlRhYmxlTmFtZX19IHRhYmxlCmZ1bmMgKHt7LlJlY2VpdmVyfX0gKnt7Lk1vZGVsLk5hbWV9fSkgSW5zZXJ0KGRiICpzcWwuREIpIChsYXN0SW5zZXJ0SUQgaW50NjQsIGVyciBlcnJvcikgewogICAgY29uc3Qgc3RtdCA9IGBJTlNFUlQgSU5UTyAie3suTW9kZWwuVGFibGVOYW1lfX0iICh7ey5Nb2RlbC5GaWVsZHMgfCBpbnNlcnRfZmllbGRzfX0pIFZBTFVFUyAoe3suTW9kZWwuRmllbGRzIHwgaW5zZXJ0X3ZhbHVlc319KSBSRVRVUk5JTkcgaWRgCiAgICByb3cgOj0gZGIuUXVlcnlSb3coc3RtdCwge3sgLiB8IGluc2VydF9hcmdzIH19KQogICAgZXJyID0gcm93LlNjYW4oJmxhc3RJbnNlcnRJRCkKCXJldHVybgp9CgovLyBVcGRhdGUgYW4gZXhpc3Rpbmcge3suTW9kZWwuTmFtZX19IHJvdyBpbiB0aGUge3suTW9kZWwuVGFibGVOYW1lfX0gdGFibGUuCmZ1bmMgKHt7LlJlY2VpdmVyfX0gKnt7Lk1vZGVsLk5hbWV9fSkgVXBkYXRlKGRiICpzcWwuREIsIGlkIGludDY0KSAoaW50NjQsIGVycm9yKSB7CiAgICBjb25zdCBzdG10ID0gYFVQREFURSAie3suTW9kZWwuVGFibGVOYW1lfX0iIFNFVCB7eyAuIHwgdXBkYXRlX3ZhbHVlcyB9fSBXSEVSRSBpZCA9IHt7IC4gfCB1cGRhdGVfdmFsdWVzX3NpemUgfX1gCiAgICByZXN1bHQsIGVyciA6PSBkYi5FeGVjKHN0bXQsIHt7IC4gfCB1cGRhdGVfYXJncyB9fSAsIGlkKQogICAgaWYgZXJyICE9IG5pbCB7CiAgICAgICAgcmV0dXJuIDAsIGVycgogICAgfQogICAgcmV0dXJuIHJlc3VsdC5Sb3dzQWZmZWN0ZWQoKQp9CgovLyBGaW5kIGFuIGV4aXN0aW5nIHt7Lk1vZGVsLk5hbWV9fSByb3cgaW4gdGhlIHt7Lk1vZGVsLlRhYmxlTmFtZX19IHRhYmxlCmZ1bmMgKHt7LlJlY2VpdmVyfX0gKnt7Lk1vZGVsLk5hbWV9fSkgRmluZChkYiAqc3FsLkRCLCBpZCBpbnQ2NCkgZXJyb3IgewogICAgY29uc3Qgc3RtdCA9IGBTRUxFQ1QgKiBGUk9NICJ7ey5Nb2RlbC5UYWJsZU5hbWV9fSIgV0hFUkUgaWQgPSAkMWAKICAgIHJvdyA6PSBkYi5RdWVyeVJvdyhzdG10LCBpZCkKICAgIHJldHVybiByb3cuU2Nhbih7eyAuIHwgc2Nhbl9maWVsZHN9fSkKfQoKLy8gTG9hZCBhbGwsIG9yIGEgc3Vic2V0IG9mIHt7Lk1vZGVsLk5hbWV9fSByb3dzIGZyb20gdGhlIHt7Lk1vZGVsLlRhYmxlTmFtZX19IHRhYmxlCmZ1bmMgKHt7LlJlY2VpdmVyfX0gKnt7Lk1vZGVsLk5hbWV9fSkgTG9hZChkYiAqc3FsLkRCKSAoc2V0IFtde3suTW9kZWwuTmFtZX19LCBlcnIgZXJyb3IpIHsKICAgIHN0bXQgOj0gYFNFTEVDVCAqIEZST00gInt7Lk1vZGVsLlRhYmxlTmFtZX19ImAKCiAgICBpZiB7ey5SZWNlaXZlcn19LmxpbWl0ID09IDAgJiYge3suUmVjZWl2ZXJ9fS5vZmZzZXQgPiAwIHsKICAgICAgICByZXR1cm4gc2V0LCBmbXQuRXJyb3JmKCJjYW5ub3QgcXVlcnkgd2l0aCBvZmZzZXQgYnV0IG5vIGxpbWl0IikKICAgIH0KCiAgICBpZiB7ey5SZWNlaXZlcn19LmxpbWl0ID4gMCB7CiAgICAgICAgc3RtdCArPSBmbXQuU3ByaW50ZigiIExJTUlUICVkIiwge3suUmVjZWl2ZXJ9fS5saW1pdCkKICAgIH0KICAgIGlmIHt7LlJlY2VpdmVyfX0ub2Zmc2V0ID4gMCB7CiAgICAgICAgc3RtdCArPSBmbXQuU3ByaW50ZigiIE9GRlNFVCAlZCIsIHt7LlJlY2VpdmVyfX0ub2Zmc2V0KQogICAgfQogICAgZGVmZXIgZnVuYygpIHsKICAgICAgICB7ey5SZWNlaXZlcn19LmxpbWl0ID0gMAogICAgICAgIHt7LlJlY2VpdmVyfX0ub2Zmc2V0ID0gMAogICAgfSgpCiAgICByb3dzLCBlcnIgOj0gZGIuUXVlcnkoc3RtdCkKICAgIGlmIGVyciAhPSBuaWwgewogICAgICAgIHJldHVybgogICAgfQogICAgZGVmZXIgcm93cy5DbG9zZSgpCiAgICAgICAgZm9yIHJvd3MuTmV4dCgpIHsKICAgICAgICAgICAgaWYgZXJyID0gcm93cy5TY2FuKHt7LiB8IHNjYW5fZmllbGRzfX0pOyBlcnIgIT0gbmlsIHsKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIHNldCA9IGFwcGVuZChzZXQsICp7ey5SZWNlaXZlcn19KQogICAgfQoKICAgIHJldHVybgp9CgovLyBEZWxldGUgYW4gZXhpc3Rpbmcge3suTW9kZWwuTmFtZX19IHJvdyBmcm9tIHRoZSB7ey5Nb2RlbC5UYWJsZU5hbWV9fSB0YWJsZQpmdW5jICh7ey5SZWNlaXZlcn19ICp7ey5Nb2RlbC5OYW1lfX0pIERlbGV0ZShkYiAqc3FsLkRCLCBpZCBpbnQ2NCkgKHJvd3NBZmZlY3RlZCBpbnQ2NCwgZXJyIGVycm9yKSB7CiAgICBjb25zdCBzdG10ID0gYERFTEVURSBGUk9NICJ7ey5Nb2RlbC5UYWJsZU5hbWV9fSIgV0hFUkUgaWQgPSAkMWAKICAgIHJlc3VsdCwgZXJyIDo9IGRiLkV4ZWMoc3RtdCwgaWQpCglpZiBlcnIgIT0gbmlsIHsKCQlyZXR1cm4KCX0KCglyZXR1cm4gcmVzdWx0LlJvd3NBZmZlY3RlZCgpCn0KCi8vIENvdW50IHRoZSBudW1iZXIgb2Ygcm93cyBmcm9tIHRoZSB7ey5Nb2RlbC5UYWJsZU5hbWV9fSB0YWJsZQpmdW5jKHt7LlJlY2VpdmVyfX0gKnt7Lk1vZGVsLk5hbWV9fSkgQ291bnQoZGIgKnNxbC5EQikgKGNvdW50IGludDY0LCBlcnIgZXJyb3IpIHsKICAgIGNvbnN0IHN0bXQgPSBgU0VMRUNUIENPVU5UKCopIEZST00gInt7Lk1vZGVsLlRhYmxlTmFtZX19ImAKICAgIHJvdyA6PSBkYi5RdWVyeVJvdyhzdG10KQogICAgaWYgZXJyID0gcm93LlNjYW4oJmNvdW50KTsgZXJyICE9IG5pbCB7CiAgICAgICAgcmV0dXJuCiAgICB9CiAgICByZXR1cm4KfQoKLy8gRXhpc3RzIGNoZWNrcyBmb3IgdGhlIGl0ZW1zIGV4aXN0ZW5jZSBpbiB0aGUgZGF0YWJhc2UsIGJhc2VkIG9uIGl0J3MgaWQuCi8vIEFuIGVycm9yIHdpbGwgb25seSBiZSByZXR1cm5lZCBpZiBhIFNRTCByZWxhdGVkIGZhaWx1cmUgaGFwcGVucy4KLy8gSW4gYWxsIG90aGVyIGNhc2VzLCBhIGJvb2wgYW5kIG5pbCB3aWxsIHJldHVybi4KZnVuYyh7ey5SZWNlaXZlcn19ICp7ey5Nb2RlbC5OYW1lfX0pIEV4aXN0cyhkYiAqc3FsLkRCLCBpZCBpbnQ2NCkgKGV4aXN0cyBib29sLCBlcnIgZXJyb3IpIHsKICAgIGNvbnN0IHN0bXQgPSBgU0VMRUNUIEVYSVNUUyhTRUxFQ1QgMSBGUk9NICJ7ey5Nb2RlbC5UYWJsZU5hbWV9fSIgV0hFUkUgaWQgPSAkMSBMSU1JVCAxKSBBUyAiZXhpc3RzImAKICAgIHJvdyA6PSBkYi5RdWVyeVJvdyhzdG10LCBpZCkKICAgIGlmIGVyciA9IHJvdy5TY2FuKCZleGlzdHMpOyBlcnIgIT0gbmlsIHsKICAgICAgICByZXR1cm4KICAgIH0KICAgIHJldHVybgp9CgovLyBUYWJsZU5hbWUgcmV0dXJucyB0aGUgdGFibGUgbmFtZQpmdW5jICh7ey5SZWNlaXZlcn19ICp7ey5Nb2RlbC5OYW1lfX0pIFRhYmxlTmFtZSgpIHN0cmluZyB7CiAgICByZXR1cm4gInt7Lk1vZGVsLlRhYmxlTmFtZX19Igp9CgovLyBTZXRMaW1pdCBzZXRzIHRoZSBxdWVyeSBsaW1pdApmdW5jICh7ey5SZWNlaXZlcn19ICp7ey5Nb2RlbC5OYW1lfX0pIFNldExpbWl0KGxpbWl0IGludCkgKnt7Lk1vZGVsLk5hbWV9fSB7CiAgICB7ey5SZWNlaXZlcn19LmxpbWl0ID0gbGltaXQKICAgIHJldHVybiB7ey5SZWNlaXZlcn19Cn0KCi8vIFNldE9mZnNldCBzZXRzIHRoZSBxdWVyeSBvZmZzZXQKZnVuYyAoe3suUmVjZWl2ZXJ9fSAqe3suTW9kZWwuTmFtZX19KSBTZXRPZmZzZXQob2Zmc2V0IGludCkgKnt7Lk1vZGVsLk5hbWV9fSB7CiAgICB7ey5SZWNlaXZlcn19Lm9mZnNldCA9IG9mZnNldAogICAgcmV0dXJuIHt7LlJlY2VpdmVyfX0KfQp7e2VuZH19Cg==\"")
	packr.PackJSONBytes("./tmpl", "tmpl.go", "\"cGFja2FnZSB0bXBsCgppbXBvcnQgKAoJImZtdCIKCSJzdHJpbmdzIgoJInRleHQvdGVtcGxhdGUiCikKCnZhciBGdW5jTWFwID0gdGVtcGxhdGUuRnVuY01hcHsKCSJpbnNlcnRfZmllbGRzIjogICAgICBHZXRJbnNlcnRGaWVsZHMsCgkiaW5zZXJ0X3ZhbHVlcyI6ICAgICAgR2V0SW5zZXJ0VmFsdWVzLAoJImluc2VydF9hcmdzIjogICAgICAgIEdldEluc2VydEFyZ3MsCgkic2Nhbl9maWVsZHMiOiAgICAgICAgR2V0U2NhbkZpZWxkcywKCSJ1cGRhdGVfYXJncyI6ICAgICAgICBHZXRVcGRhdGVBcmdzLAoJInVwZGF0ZV92YWx1ZXMiOiAgICAgIEdldFVwZGF0ZVZhbHVlcywKCSJ1cGRhdGVfdmFsdWVzX3NpemUiOiBHZXRVcGRhdGVWYWx1ZXNMZW5ndGgsCn0KCmZ1bmMgR2V0SW5zZXJ0RmllbGRzKGZpZWxkcyBbXVRtcGxGaWVsZCkgc3RyaW5nIHsKCXZhciBwYXJ0cyBbXXN0cmluZwoJZm9yIF8sIGZsIDo9IHJhbmdlIGZpZWxkcyB7CgkJaWYgZmwuQ29sdW1uTmFtZSA9PSAiaWQiIHsKCQkJY29udGludWUKCQl9CgkJcGFydHMgPSBhcHBlbmQocGFydHMsIGAiYCtmbC5Db2x1bW5OYW1lK2AiYCkKCX0KCXJldHVybiBzdHJpbmdzLkpvaW4ocGFydHMsICIsICIpCn0KCmZ1bmMgR2V0SW5zZXJ0VmFsdWVzKGZpZWxkcyBbXVRtcGxGaWVsZCkgc3RyaW5nIHsKCXZhciBwYXJ0cyBbXXN0cmluZwoJZm9yIGksIGZsIDo9IHJhbmdlIGZpZWxkcyB7CgkJc3dpdGNoIGZsLkNvbHVtbk5hbWUgewoJCWNhc2UgImlkIjoKCQkJY29udGludWUKCQljYXNlICJjcmVhdGVkX2F0IjoKCQkJcGFydHMgPSBhcHBlbmQocGFydHMsICJOT1coKSIpCgkJCWNvbnRpbnVlCgkJZGVmYXVsdDoKCQkJcGFydHMgPSBhcHBlbmQocGFydHMsIGZtdC5TcHJpbnRmKCIkJWQiLCBpKSkKCQl9Cgl9CglyZXR1cm4gc3RyaW5ncy5Kb2luKHBhcnRzLCAiLCAiKQp9CgpmdW5jIEdldEluc2VydEFyZ3MobSBTdHJ1Y3RUbXBsRGF0YSkgc3RyaW5nIHsKCXZhciBwYXJ0cyBbXXN0cmluZwoJZm9yIF8sIGZsIDo9IHJhbmdlIG0uTW9kZWwuRmllbGRzIHsKCQlzd2l0Y2ggZmwuTmFtZSB7CgkJY2FzZSAiSUQiLCAiQ3JlYXRlZEF0IjoKCQkJY29udGludWUKCQl9CgkJcGFydHMgPSBhcHBlbmQocGFydHMsIGZtdC5TcHJpbnRmKGAlcy4lc2AsIG0uUmVjZWl2ZXIsIGZsLk5hbWUpKQoJfQoJcmV0dXJuIHN0cmluZ3MuSm9pbihwYXJ0cywgIiwgIikKfQoKZnVuYyBHZXRTY2FuRmllbGRzKG0gU3RydWN0VG1wbERhdGEpIHN0cmluZyB7Cgl2YXIgcGFydHMgW11zdHJpbmcKCWZvciBfLCBmbCA6PSByYW5nZSBtLk1vZGVsLkZpZWxkcyB7CgkJcGFydHMgPSBhcHBlbmQocGFydHMsIGZtdC5TcHJpbnRmKGAmJXMuJXNgLCBtLlJlY2VpdmVyLCBmbC5OYW1lKSkKCX0KCXJldHVybiBzdHJpbmdzLkpvaW4ocGFydHMsICIsICIpCn0KCmZ1bmMgR2V0VXBkYXRlQXJncyhtIFN0cnVjdFRtcGxEYXRhKSBzdHJpbmcgewoJdmFyIHBhcnRzIFtdc3RyaW5nCglmb3IgXywgZmwgOj0gcmFuZ2UgbS5Nb2RlbC5GaWVsZHMgewoJCXN3aXRjaCBmbC5OYW1lIHsKCQljYXNlICJJRCIsICJDcmVhdGVkQXQiLCAiVXBkYXRlZEF0IjoKCQkJY29udGludWUKCQl9CgkJcGFydHMgPSBhcHBlbmQocGFydHMsIGZtdC5TcHJpbnRmKGAlcy4lc2AsIG0uUmVjZWl2ZXIsIGZsLk5hbWUpKQoJfQoJcmV0dXJuIHN0cmluZ3MuSm9pbihwYXJ0cywgIiwgIikKfQoKZnVuYyBHZXRVcGRhdGVWYWx1ZXMobSBTdHJ1Y3RUbXBsRGF0YSkgc3RyaW5nIHsKCXZhciBwYXJ0cyBbXXN0cmluZwoJZm9yIGksIGZsIDo9IHJhbmdlIG0uTW9kZWwuRmllbGRzIHsKCQlzd2l0Y2ggZmwuTmFtZSB7CgkJY2FzZSAiSUQiLCAiQ3JlYXRlZEF0IjoKCQkJY29udGludWUKCQljYXNlICJVcGRhdGVkQXQiOgoJCQlwYXJ0cyA9IGFwcGVuZChwYXJ0cywgZm10LlNwcmludGYoYCIlcyI9bm93KClgLCBmbC5Db2x1bW5OYW1lKSkKCQlkZWZhdWx0OgoJCQlwYXJ0cyA9IGFwcGVuZChwYXJ0cywgZm10LlNwcmludGYoYCIlcyI9JCVkYCwgZmwuQ29sdW1uTmFtZSwgaSkpCgkJfQoJfQoJcmV0dXJuIHN0cmluZ3MuSm9pbihwYXJ0cywgIiwgIikKfQoKZnVuYyBHZXRVcGRhdGVWYWx1ZXNMZW5ndGgobSBTdHJ1Y3RUbXBsRGF0YSkgc3RyaW5nIHsKCXJldHVybiBmbXQuU3ByaW50ZigiJCVkIiwgbGVuKG0uTW9kZWwuRmllbGRzKSkKfQo=\"")
	packr.PackJSONBytes("./tmpl", "types.go", "\"cGFja2FnZSB0bXBsCgovLyBUbXBsU3RydWN0cyBpcyBhIGNvbGxlY3Rpb24gb24gVG1wbFN0cnVjdAp0eXBlIFRtcGxTdHJ1Y3RzIFtdVG1wbFN0cnVjdAoKLy8gVG1wbFN0cnVjdCBkZWZpbmVzIHRoZSB0YWJsZSBkYXRhIHRvIHBhc3MgdG8gdGhlIG1vZGVscwp0eXBlIFRtcGxTdHJ1Y3Qgc3RydWN0IHsKCU5hbWUgICAgICBzdHJpbmcKCVRhYmxlTmFtZSBzdHJpbmcKCUZpZWxkcyAgICBbXVRtcGxGaWVsZAoJSW1wb3J0cyAgIG1hcFtzdHJpbmddc3RydWN0e30KfQoKLy8gVG1wbEZpZWxkIGRlZmluZXMgYSB0YWJsZSBmaWVsZCB0ZW1wbGF0ZQp0eXBlIFRtcGxGaWVsZCBzdHJ1Y3QgewoJTmFtZSAgICAgICBzdHJpbmcKCVR5cGUgICAgICAgc3RyaW5nCglDb2x1bW5OYW1lIHN0cmluZwoJTnVsbGFibGUgICBib29sCn0KCi8vIFN0cnVjdFRtcGxEYXRhIGRlZmluZXMgdGhlIHRvcCBsZXZlbCBzdHJ1Y3QgZGF0YSB0byBwYXNzIHRvIHRoZSBtb2RlbHMKdHlwZSBTdHJ1Y3RUbXBsRGF0YSBzdHJ1Y3QgewoJTW9kZWwgICAgICAgVG1wbFN0cnVjdAoJUmVjZWl2ZXIgICAgc3RyaW5nCglQYWNrYWdlTmFtZSBzdHJpbmcKfQo=\"")
	packr.PackJSONBytes("./tmpl", "x_helpers.html", "\"e3tkZWZpbmUgImhlbHBlcnMifX0KcGFja2FnZSB7eyAuUGFja2FnZU5hbWUgfX0KCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwp8IENvZGUgZ2VuZXJhdGVkIGJ5IG1vZGVsZ2VuIHwKfCAgICAgICAgRE8gTk9UIEVESVQuICAgICAgICB8CistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKaW1wb3J0ICgKCSJkYXRhYmFzZS9zcWwiCgkiZGF0YWJhc2Uvc3FsL2RyaXZlciIKCSJlbmNvZGluZy9qc29uIgoJImZtdCIKCSJyZWZsZWN0IgoJInN0cmNvbnYiCgkic3RyaW5ncyIKCSJ0aW1lIgoKCSJnaXRodWIuY29tL2xpYi9wcSIKKQoKLy8gU3RkVGltZSBwcm92aWRlcyBkZWZhdWx0IFNRTCBUSU1FIGZvcm1hdApjb25zdCBTdGRUaW1lID0gIjE1OjA0OjA1IgoKLy8gZW1wdHlUaW1lIGFsbG93cyBkZWZhdWx0IHRpbWVzIHRvIGJlIGNvbnNpZGVyZWQKLy8gbnVsbCBmb3IgaW5zZXJ0aW9uIGludG8gdGhlIGRhdGFiYXNlLgp2YXIgZW1wdHlUaW1lID0gdGltZS5UaW1le30KCi8qLS0tLS0tLS0tLS0tLSsKfCBUeXBlIGFsaWFzZXMgfAorLS0tLS0tLS0tLS0tLSovCgovLyBOdWxsRmxvYXQ2NCBhbGlhc2VzIHNxbC5OdWxsRmxvYXQ2NAp0eXBlIE51bGxGbG9hdDY0IHNxbC5OdWxsRmxvYXQ2NAoKLy8gTnVsbFN0cmluZyBhbGlhc2VzIHNxbC5OdWxsU3RyaW5nCnR5cGUgTnVsbFN0cmluZyBzcWwuTnVsbFN0cmluZwoKLy8gTnVsbEJvb2wgYWxpYXNlcyBzcWwuTnVsbEJvb2wKdHlwZSBOdWxsQm9vbCBzcWwuTnVsbEJvb2wKCi8vIE51bGxJbnQ2NCBhbGlhc2VzIHNxbC5OdWxsSW50NjQKdHlwZSBOdWxsSW50NjQgc3FsLk51bGxJbnQ2NAoKLy8gTnVsbFRpbWUgYWxpYXNlcyBzcWwuTnVsbFRpbWUKdHlwZSBOdWxsVGltZSBwcS5OdWxsVGltZQoKLy8gUmF3SlNPTiBhbGlhc2VzIGpzb24uUmF3TWVzc2FnZQp0eXBlIFJhd0pTT04ganNvbi5SYXdNZXNzYWdlCgovLyBTdHJpbmdBcnJheSBhbGlhc2VzIFtdc3RyaW5nCnR5cGUgU3RyaW5nQXJyYXkgW11zdHJpbmcKCi8vIEludEFycmF5IGFsaWFzZXMgW11pbnQ2NAp0eXBlIEludEFycmF5IFtdaW50NjQKCi8vIEZsb2F0QXJyYXkgYWxpYXNlcyBbXWZsb2F0NjQKdHlwZSBGbG9hdEFycmF5IFtdZmxvYXQ2NAoKLy8gQm9vbEFycmF5IGFsaWFzZXMgW11ib29sCnR5cGUgQm9vbEFycmF5IFtdYm9vbAoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnwgTnVsbFN0cmluZyBpbXBsZW1lbnRhdGlvbnMgfAorLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi8vIE1hcnNoYWxKU09OIGZvciBOdWxsU3RyaW5nCmZ1bmMgKG4gTnVsbFN0cmluZykgTWFyc2hhbEpTT04oKSAoW11ieXRlLCBlcnJvcikgewoJdmFyIGEgKnN0cmluZwoJaWYgbi5WYWxpZCB7CgkJYSA9ICZuLlN0cmluZwoJfQoJcmV0dXJuIGpzb24uTWFyc2hhbChhKQp9CgovLyBVbm1hcnNoYWxKU09OIGZvciBOdWxsU3RyaW5nCmZ1bmMgKG4gKk51bGxTdHJpbmcpIFVubWFyc2hhbEpTT04oYiBbXWJ5dGUpIGVycm9yIHsKCWVyciA6PSBqc29uLlVubWFyc2hhbChiLCAmbi5TdHJpbmcpCgluLlZhbGlkID0gZXJyID09IG5pbAoJcmV0dXJuIGVycgp9CgovLyBWYWx1ZSBmb3IgTnVsbFN0cmluZwpmdW5jIChuIE51bGxTdHJpbmcpIFZhbHVlKCkgKGRyaXZlci5WYWx1ZSwgZXJyb3IpIHsKCWlmICFuLlZhbGlkIHsKCQlyZXR1cm4gbmlsLCBuaWwKCX0KCXJldHVybiBuLlN0cmluZywgbmlsCn0KCi8vIFNjYW4gZm9yIE51bGxTdHJpbmcKZnVuYyAobiAqTnVsbFN0cmluZykgU2NhbihzcmMgaW50ZXJmYWNle30pIGVycm9yIHsKCXZhciBhIHNxbC5OdWxsU3RyaW5nCglpZiBlcnIgOj0gYS5TY2FuKHNyYyk7IGVyciAhPSBuaWwgewoJCXJldHVybiBlcnIKCX0KCW4uU3RyaW5nID0gYS5TdHJpbmcKCWlmIHJlZmxlY3QuVHlwZU9mKHNyYykgIT0gbmlsIHsKCQluLlZhbGlkID0gdHJ1ZQoJfQoJcmV0dXJuIG5pbAp9CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnwgTnVsbEZsb2F0NjQgaW1wbGVtZW50YXRpb25zIHwKKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLy8gTWFyc2hhbEpTT04gZm9yIE51bGxGbG9hdDY0CmZ1bmMgKG4gTnVsbEZsb2F0NjQpIE1hcnNoYWxKU09OKCkgKFtdYnl0ZSwgZXJyb3IpIHsKCXZhciBhICpmbG9hdDY0CglpZiBuLlZhbGlkIHsKCQlhID0gJm4uRmxvYXQ2NAoJfQoJcmV0dXJuIGpzb24uTWFyc2hhbChhKQp9CgovLyBWYWx1ZSBmb3IgTnVsbEZsb2F0NjQKZnVuYyAobiBOdWxsRmxvYXQ2NCkgVmFsdWUoKSAoZHJpdmVyLlZhbHVlLCBlcnJvcikgewoJaWYgIW4uVmFsaWQgewoJCXJldHVybiBuaWwsIG5pbAoJfQoJcmV0dXJuIG4uRmxvYXQ2NCwgbmlsCn0KCi8vIFVubWFyc2hhbEpTT04gZm9yIE51bGxGbG9hdDY0CmZ1bmMgKG4gKk51bGxGbG9hdDY0KSBVbm1hcnNoYWxKU09OKGIgW11ieXRlKSBlcnJvciB7CgllcnIgOj0ganNvbi5Vbm1hcnNoYWwoYiwgJm4uRmxvYXQ2NCkKCW4uVmFsaWQgPSBlcnIgPT0gbmlsCglyZXR1cm4gZXJyCn0KCi8vIFNjYW4gZm9yIE51bGxGbG9hdDY0CmZ1bmMgKG4gKk51bGxGbG9hdDY0KSBTY2FuKHNyYyBpbnRlcmZhY2V7fSkgZXJyb3IgewoJdmFyIGEgc3FsLk51bGxGbG9hdDY0CglpZiBlcnIgOj0gYS5TY2FuKHNyYyk7IGVyciAhPSBuaWwgewoJCXJldHVybiBlcnIKCX0KCW4uRmxvYXQ2NCA9IGEuRmxvYXQ2NAoJaWYgcmVmbGVjdC5UeXBlT2Yoc3JjKSAhPSBuaWwgewoJCW4uVmFsaWQgPSB0cnVlCgl9CglyZXR1cm4gbmlsCn0KCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnwgTnVsbEludDY0IGltcGxlbWVudGF0aW9ucyB8CistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgovLyBNYXJzaGFsSlNPTiBmb3IgTnVsbEludDY0CmZ1bmMgKG4gTnVsbEludDY0KSBNYXJzaGFsSlNPTigpIChbXWJ5dGUsIGVycm9yKSB7Cgl2YXIgYSAqaW50NjQKCWlmIG4uVmFsaWQgewoJCWEgPSAmbi5JbnQ2NAoJfQoJcmV0dXJuIGpzb24uTWFyc2hhbChhKQp9CgovLyBWYWx1ZSBmb3IgTnVsbEludDY0CmZ1bmMgKG4gTnVsbEludDY0KSBWYWx1ZSgpIChkcml2ZXIuVmFsdWUsIGVycm9yKSB7CglpZiAhbi5WYWxpZCB7CgkJcmV0dXJuIG5pbCwgbmlsCgl9CglyZXR1cm4gbi5JbnQ2NCwgbmlsCn0KCi8vIFVubWFyc2hhbEpTT04gZm9yIE51bGxJbnQ2NApmdW5jIChuICpOdWxsSW50NjQpIFVubWFyc2hhbEpTT04oYiBbXWJ5dGUpIGVycm9yIHsKCWVyciA6PSBqc29uLlVubWFyc2hhbChiLCAmbi5JbnQ2NCkKCW4uVmFsaWQgPSBlcnIgPT0gbmlsCglyZXR1cm4gZXJyCn0KCi8vIFNjYW4gZm9yIE51bGxJbnQ2NApmdW5jIChuICpOdWxsSW50NjQpIFNjYW4oc3JjIGludGVyZmFjZXt9KSBlcnJvciB7Cgl2YXIgYSBzcWwuTnVsbEludDY0CglpZiBlcnIgOj0gYS5TY2FuKHNyYyk7IGVyciAhPSBuaWwgewoJCXJldHVybiBlcnIKCX0KCW4uSW50NjQgPSBhLkludDY0CglpZiByZWZsZWN0LlR5cGVPZihzcmMpICE9IG5pbCB7CgkJbi5WYWxpZCA9IHRydWUKCX0KCXJldHVybiBuaWwKfQoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwp8IE51bGxCb29sIGltcGxlbWVudGF0aW9ucyB8CistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi8vIE1hcnNoYWxKU09OIGZvciBOdWxsQm9vbApmdW5jIChuIE51bGxCb29sKSBNYXJzaGFsSlNPTigpIChbXWJ5dGUsIGVycm9yKSB7Cgl2YXIgYSAqYm9vbAoJaWYgbi5WYWxpZCB7CgkJYSA9ICZuLkJvb2wKCX0KCXJldHVybiBqc29uLk1hcnNoYWwoYSkKfQoKLy8gVmFsdWUgZm9yIE51bGxCb29sCmZ1bmMgKG4gTnVsbEJvb2wpIFZhbHVlKCkgKGRyaXZlci5WYWx1ZSwgZXJyb3IpIHsKCWlmICFuLlZhbGlkIHsKCQlyZXR1cm4gbmlsLCBuaWwKCX0KCXJldHVybiBuLkJvb2wsIG5pbAp9CgovLyBVbm1hcnNoYWxKU09OIGZvciBOdWxsQm9vbApmdW5jIChuICpOdWxsQm9vbCkgVW5tYXJzaGFsSlNPTihiIFtdYnl0ZSkgZXJyb3IgewoJdmFyIGZpZWxkICpib29sCgllcnIgOj0ganNvbi5Vbm1hcnNoYWwoYiwgJmZpZWxkKQoJaWYgZmllbGQgIT0gbmlsIHsKCQluLlZhbGlkID0gdHJ1ZQoJCW4uQm9vbCA9ICpmaWVsZAoJfQoJcmV0dXJuIGVycgp9CgovLyBTY2FuIGZvciBOdWxsQm9vbApmdW5jIChuICpOdWxsQm9vbCkgU2NhbihzcmMgaW50ZXJmYWNle30pIGVycm9yIHsKCXZhciBhIHNxbC5OdWxsQm9vbAoJaWYgZXJyIDo9IGEuU2NhbihzcmMpOyBlcnIgIT0gbmlsIHsKCQlyZXR1cm4gZXJyCgl9CgluLkJvb2wgPSBhLkJvb2wKCWlmIHJlZmxlY3QuVHlwZU9mKHNyYykgIT0gbmlsIHsKCQluLlZhbGlkID0gdHJ1ZQoJfQoJcmV0dXJuIG5pbAp9CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnwgTnVsbFRpbWUgaW1wbGVtZW50YXRpb25zIHwKKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLy8gTWFyc2hhbEpTT04gZm9yIE51bGxUaW1lCmZ1bmMgKG4gTnVsbFRpbWUpIE1hcnNoYWxKU09OKCkgKFtdYnl0ZSwgZXJyb3IpIHsKCXZhciBhICp0aW1lLlRpbWUKCWlmIG4uVmFsaWQgewoJCWEgPSAmbi5UaW1lCgl9CglyZXR1cm4ganNvbi5NYXJzaGFsKGEpCn0KCi8vIFZhbHVlIGZvciBOdWxsVGltZQpmdW5jIChuIE51bGxUaW1lKSBWYWx1ZSgpIChkcml2ZXIuVmFsdWUsIGVycm9yKSB7CglpZiAhbi5WYWxpZCB7CgkJcmV0dXJuIG5pbCwgbmlsCgl9CglyZXR1cm4gbi5UaW1lLCBuaWwKfQoKLy8gVW5tYXJzaGFsSlNPTiBmb3IgTnVsbFRpbWUKZnVuYyAobiAqTnVsbFRpbWUpIFVubWFyc2hhbEpTT04oYiBbXWJ5dGUpIGVycm9yIHsKCXMgOj0gc3RyaW5nKGIpCglzID0gc3RyaW5ncy5UcmltKHMsIGAiYCkKCXRpbSwgZXJyIDo9IHRpbWUuUGFyc2UodGltZS5SRkMzMzM5LCBzKQoJaWYgZXJyICE9IG5pbCB7CgkJbi5WYWxpZCA9IGZhbHNlCgkJcmV0dXJuIGVycgoJfQoKCW4uVGltZSA9IHRpbQoJbi5WYWxpZCA9IHRydWUKCXJldHVybiBuaWwKfQoKLy8gU2NhbiBmb3IgTnVsbFRpbWUKZnVuYyAobiAqTnVsbFRpbWUpIFNjYW4oc3JjIGludGVyZmFjZXt9KSBlcnJvciB7CgkvLyBTZXQgaW5pdGlhbCBzdGF0ZSBmb3Igc3Vic2VxdWVudCBzY2Fucy4KCW4uVmFsaWQgPSBmYWxzZQoKCXZhciBhIHBxLk51bGxUaW1lCglpZiBlcnIgOj0gYS5TY2FuKHNyYyk7IGVyciAhPSBuaWwgewoJCXJldHVybiBlcnIKCX0KCW4uVGltZSA9IGEuVGltZQoJaWYgcmVmbGVjdC5UeXBlT2Yoc3JjKSAhPSBuaWwgewoJCW4uVmFsaWQgPSB0cnVlCgl9CglyZXR1cm4gbmlsCn0KCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwp8IFJhd0pTT04gaW1wbGVtZW50YXRpb25zIHwKKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgovLyBNYXJzaGFsSlNPTiBmb3IgTnVsbFN0cmluZwpmdW5jIChuIFJhd0pTT04pIE1hcnNoYWxKU09OKCkgKFtdYnl0ZSwgZXJyb3IpIHsKCWEgOj0ganNvbi5SYXdNZXNzYWdlKG4pCglyZXR1cm4gYS5NYXJzaGFsSlNPTigpCn0KCi8vIFZhbHVlIGZvciBOdWxsU3RyaW5nCmZ1bmMgKG4gUmF3SlNPTikgVmFsdWUoKSAoZHJpdmVyLlZhbHVlLCBlcnJvcikgewoJcmV0dXJuIHN0cmluZyhuKSwgbmlsCn0KCi8vIFVubWFyc2hhbEpTT04gZm9yIE51bGxTdHJpbmcKZnVuYyAobiAqUmF3SlNPTikgVW5tYXJzaGFsSlNPTihiIFtdYnl0ZSkgZXJyb3IgewoJdmFyIGEganNvbi5SYXdNZXNzYWdlCglqc29uLlVubWFyc2hhbChiLCAmYSkKCWMgOj0gUmF3SlNPTihhKQoJKm4gPSBjCglyZXR1cm4gbmlsCn0KCi8vIFNjYW4gZm9yIE51bGxTdHJpbmcKZnVuYyAobiAqUmF3SlNPTikgU2NhbihzcmMgaW50ZXJmYWNle30pIGVycm9yIHsKCXZhciBhIHNxbC5OdWxsU3RyaW5nCglpZiBlcnIgOj0gYS5TY2FuKHNyYyk7IGVyciAhPSBuaWwgewoJCXJldHVybiBlcnIKCX0KCWpzbiA6PSBSYXdKU09OKFtdYnl0ZShhLlN0cmluZykpCgkqbiA9IGpzbgoJcmV0dXJuIG5pbAp9CgovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiogU3RyaW5nQXJyYXkgaW1wbGVtZW50YXRpb25zICoKKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKLy8gTWFyc2hhbEpTT04gbWFyc2hhbHMgYSBTdHJpbmdBcnJheSBpbnRvIEpTT04uCmZ1bmMgKG4gU3RyaW5nQXJyYXkpIE1hcnNoYWxKU09OKCkgKFtdYnl0ZSwgZXJyb3IpIHsKCXJldHVybiBqc29uLk1hcnNoYWwoW11zdHJpbmcobikpCn0KCi8vIFVubWFyc2hhbEpTT04gdW5tYXJzaGFscyBKU09OIGludG8gYSBTdHJpbmdBcnJheS4KZnVuYyAobiAqU3RyaW5nQXJyYXkpIFVubWFyc2hhbEpTT04oYiBbXWJ5dGUpIGVycm9yIHsKCXZhciByYXcgW11zdHJpbmcKCWlmIGVyciA6PSBqc29uLlVubWFyc2hhbChiLCAmcmF3KTsgZXJyICE9IG5pbCB7CgkJcmV0dXJuIGVycgoJfQoKCSpuID0gU3RyaW5nQXJyYXkocmF3KQoJcmV0dXJuIG5pbAp9CgovLyBWYWx1ZSBpcyB1c2VkIHdoZW4gd3JpdGluZyBkYXRhIGludG8gdGhlIGRhdGFiYXNlLgpmdW5jIChuIFN0cmluZ0FycmF5KSBWYWx1ZSgpIChkcml2ZXIuVmFsdWUsIGVycm9yKSB7CglpZiBuID09IG5pbCB8fCBsZW4obikgPT0gMCB7CgkJcmV0dXJuIG5pbCwgbmlsCgl9CgoJcmV0dXJuICJ7IiArIHN0cmluZ3MuSm9pbihuLCAiLCIpICsgIn0iLCBuaWwKfQoKLy8gU2NhbiBpcyB1c2VkIHdoZW4gcmVhZGluZyBkYXRhIGZyb20gdGhlIGRhdGFiYXNlLgpmdW5jIChuICpTdHJpbmdBcnJheSkgU2NhbihzcmMgaW50ZXJmYWNle30pIGVycm9yIHsKCS8vIEVtdHB5IHRoZSBhcnJheSB0byBwcm90ZWN0IGFnYWluc3QgcmV1c2VkIHNjYW4gc3RydWN0cy4KCSpuID0gKCpuKVs6MF0KCglpZiBzcmMgPT0gbmlsIHsKCQlyZXR1cm4gbmlsCgl9CgoJcmF3Qnl0ZXMsIG9rIDo9IHNyYy4oW11ieXRlKQoJaWYgIW9rIHsKCQlyZXR1cm4gZm10LkVycm9yZigiZXhwZWN0ZWQgW11ieXRlIGluIFN0cmluZ0FycmF5LlNjYW4gYnV0IGdvdCAlVCIsIHNyYykKCX0KCglyYXcgOj0gc3RyaW5ncy5UcmltKHN0cmluZyhyYXdCeXRlcyksICJ7fSAiKQoJaWYgcmF3ID09ICIiIHsKCQlyZXR1cm4gbmlsCgl9CgoJcGFydHMgOj0gc3RyaW5ncy5TcGxpdChyYXcsICIsIikKCWlmIGxlbihwYXJ0cykgPT0gMCB7CgkJcmV0dXJuIG5pbAoJfQoKCWZvciBfLCBwYXJ0IDo9IHJhbmdlIHBhcnRzIHsKCQkqbiA9IGFwcGVuZCgqbiwgc3RyaW5ncy5UcmltKHBhcnQsIGAiIGApKQoJfQoKCXJldHVybiBuaWwKfQoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKgoqIEludEFycmF5IGltcGxlbWVudGF0aW9ucyAqCioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8vIE1hcnNoYWxKU09OIG1hcnNoYWxzIGEgSW50QXJyYXkgaW50byBKU09OLgpmdW5jIChuIEludEFycmF5KSBNYXJzaGFsSlNPTigpIChbXWJ5dGUsIGVycm9yKSB7CglyZXR1cm4ganNvbi5NYXJzaGFsKFtdaW50NjQobikpCn0KCi8vIFVubWFyc2hhbEpTT04gdW5tYXJzaGFscyBKU09OIGludG8gYSBJbnRBcnJheS4KZnVuYyAobiAqSW50QXJyYXkpIFVubWFyc2hhbEpTT04oYiBbXWJ5dGUpIGVycm9yIHsKCXZhciByYXcgW11pbnQ2NAoJaWYgZXJyIDo9IGpzb24uVW5tYXJzaGFsKGIsICZyYXcpOyBlcnIgIT0gbmlsIHsKCQlyZXR1cm4gZXJyCgl9CgoJKm4gPSBJbnRBcnJheShyYXcpCglyZXR1cm4gbmlsCn0KCi8vIFZhbHVlIGlzIHVzZWQgd2hlbiB3cml0aW5nIGRhdGEgaW50byB0aGUgZGF0YWJhc2UuCmZ1bmMgKG4gSW50QXJyYXkpIFZhbHVlKCkgKGRyaXZlci5WYWx1ZSwgZXJyb3IpIHsKCWlmIG4gPT0gbmlsIHx8IGxlbihuKSA9PSAwIHsKCQlyZXR1cm4gbmlsLCBuaWwKCX0KCglyZXR1cm4gInsiICsgc3RyaW5ncy5UcmltKHN0cmluZ3MuSm9pbihzdHJpbmdzLkZpZWxkcyhmbXQuU3ByaW50KG4pKSwgIiwiKSwgIltdIikgKyAifSIsIG5pbAp9CgovLyBTY2FuIGlzIHVzZWQgd2hlbiByZWFkaW5nIGRhdGEgZnJvbSB0aGUgZGF0YWJhc2UuCmZ1bmMgKG4gKkludEFycmF5KSBTY2FuKHNyYyBpbnRlcmZhY2V7fSkgZXJyb3IgewoJLy8gRW10cHkgdGhlIGFycmF5IHRvIHByb3RlY3QgYWdhaW5zdCByZXVzZWQgc2NhbiBzdHJ1Y3RzLgoJKm4gPSAoKm4pWzowXQoKCWlmIHNyYyA9PSBuaWwgewoJCXJldHVybiBuaWwKCX0KCglyYXdCeXRlcywgb2sgOj0gc3JjLihbXWJ5dGUpCglpZiAhb2sgewoJCXJldHVybiBmbXQuRXJyb3JmKCJleHBlY3RlZCBbXWJ5dGUgaW4gSW50QXJyYXkuU2NhbiBidXQgZ290ICVUIiwgc3JjKQoJfQoKCXJhdyA6PSBzdHJpbmdzLlRyaW0oc3RyaW5nKHJhd0J5dGVzKSwgInt9ICIpCglpZiByYXcgPT0gIiIgewoJCXJldHVybiBuaWwKCX0KCglwYXJ0cyA6PSBzdHJpbmdzLlNwbGl0KHJhdywgIiwiKQoJaWYgbGVuKHBhcnRzKSA9PSAwIHsKCQlyZXR1cm4gbmlsCgl9CgoJZm9yIF8sIHBhcnQgOj0gcmFuZ2UgcGFydHMgewoJCWksIGVyciA6PSBzdHJjb252LlBhcnNlSW50KHN0cmluZ3MuVHJpbShwYXJ0LCBgIGApLCAxMCwgNjQpCgkJaWYgZXJyICE9IG5pbCB7CgkJCXJldHVybiBlcnIKCQl9CgkJKm4gPSBhcHBlbmQoKm4sIGkpCgl9CgoJcmV0dXJuIG5pbAp9CgovKioqKioqKioqKioqKioqKioqKioqKioqKioqCiogRmxvYXRBcnJheSBpbXBsZW1lbnRhdGlvbnMgKgoqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgovLyBNYXJzaGFsSlNPTiBtYXJzaGFscyBhIEZsb2F0QXJyYXkgaW50byBKU09OLgpmdW5jIChuIEZsb2F0QXJyYXkpIE1hcnNoYWxKU09OKCkgKFtdYnl0ZSwgZXJyb3IpIHsKCXJldHVybiBqc29uLk1hcnNoYWwoW11mbG9hdDY0KG4pKQp9CgovLyBVbm1hcnNoYWxKU09OIHVubWFyc2hhbHMgSlNPTiBpbnRvIGEgRmxvYXRBcnJheS4KZnVuYyAobiAqRmxvYXRBcnJheSkgVW5tYXJzaGFsSlNPTihiIFtdYnl0ZSkgZXJyb3IgewoJdmFyIHJhdyBbXWZsb2F0NjQKCWlmIGVyciA6PSBqc29uLlVubWFyc2hhbChiLCAmcmF3KTsgZXJyICE9IG5pbCB7CgkJcmV0dXJuIGVycgoJfQoKCSpuID0gRmxvYXRBcnJheShyYXcpCglyZXR1cm4gbmlsCn0KCi8vIFZhbHVlIGlzIHVzZWQgd2hlbiB3cml0aW5nIGRhdGEgaW50byB0aGUgZGF0YWJhc2UuCmZ1bmMgKG4gRmxvYXRBcnJheSkgVmFsdWUoKSAoZHJpdmVyLlZhbHVlLCBlcnJvcikgewoJaWYgbiA9PSBuaWwgfHwgbGVuKG4pID09IDAgewoJCXJldHVybiBuaWwsIG5pbAoJfQoKCXJldHVybiAieyIgKyBzdHJpbmdzLlRyaW0oc3RyaW5ncy5Kb2luKHN0cmluZ3MuRmllbGRzKGZtdC5TcHJpbnQobikpLCAiLCIpLCAiW10iKSArICJ9IiwgbmlsCn0KCi8vIFNjYW4gaXMgdXNlZCB3aGVuIHJlYWRpbmcgZGF0YSBmcm9tIHRoZSBkYXRhYmFzZS4KZnVuYyAobiAqRmxvYXRBcnJheSkgU2NhbihzcmMgaW50ZXJmYWNle30pIGVycm9yIHsKCS8vIEVtdHB5IHRoZSBhcnJheSB0byBwcm90ZWN0IGFnYWluc3QgcmV1c2VkIHNjYW4gc3RydWN0cy4KCSpuID0gKCpuKVs6MF0KCglpZiBzcmMgPT0gbmlsIHsKCQlyZXR1cm4gbmlsCgl9CgoJcmF3Qnl0ZXMsIG9rIDo9IHNyYy4oW11ieXRlKQoJaWYgIW9rIHsKCQlyZXR1cm4gZm10LkVycm9yZigiZXhwZWN0ZWQgW11ieXRlIGluIEZsb2F0QXJyYXkuU2NhbiBidXQgZ290ICVUIiwgc3JjKQoJfQoKCXJhdyA6PSBzdHJpbmdzLlRyaW0oc3RyaW5nKHJhd0J5dGVzKSwgInt9ICIpCglpZiByYXcgPT0gIiIgewoJCXJldHVybiBuaWwKCX0KCglwYXJ0cyA6PSBzdHJpbmdzLlNwbGl0KHJhdywgIiwiKQoJaWYgbGVuKHBhcnRzKSA9PSAwIHsKCQlyZXR1cm4gbmlsCgl9CgoJZm9yIF8sIHBhcnQgOj0gcmFuZ2UgcGFydHMgewoJCWYsIGVyciA6PSBzdHJjb252LlBhcnNlRmxvYXQoc3RyaW5ncy5UcmltKHBhcnQsIGAgYCksIDY0KQoJCWlmIGVyciAhPSBuaWwgewoJCQlyZXR1cm4gZXJyCgkJfQoJCSpuID0gYXBwZW5kKCpuLCBmKQoJfQoKCXJldHVybiBuaWwKfQoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioKKiBCb29sQXJyYXkgaW1wbGVtZW50YXRpb25zICoKKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8vIE1hcnNoYWxKU09OIG1hcnNoYWxzIGEgQm9vbEFycmF5IGludG8gSlNPTi4KZnVuYyAobiBCb29sQXJyYXkpIE1hcnNoYWxKU09OKCkgKFtdYnl0ZSwgZXJyb3IpIHsKCXJldHVybiBqc29uLk1hcnNoYWwoW11ib29sKG4pKQp9CgovLyBVbm1hcnNoYWxKU09OIHVubWFyc2hhbHMgSlNPTiBpbnRvIGEgQm9vbEFycmF5LgpmdW5jIChuICpCb29sQXJyYXkpIFVubWFyc2hhbEpTT04oYiBbXWJ5dGUpIGVycm9yIHsKCXZhciByYXcgW11ib29sCglpZiBlcnIgOj0ganNvbi5Vbm1hcnNoYWwoYiwgJnJhdyk7IGVyciAhPSBuaWwgewoJCXJldHVybiBlcnIKCX0KCgkqbiA9IEJvb2xBcnJheShyYXcpCglyZXR1cm4gbmlsCn0KCi8vIFZhbHVlIGlzIHVzZWQgd2hlbiB3cml0aW5nIGRhdGEgaW50byB0aGUgZGF0YWJhc2UuCmZ1bmMgKG4gQm9vbEFycmF5KSBWYWx1ZSgpIChkcml2ZXIuVmFsdWUsIGVycm9yKSB7CglpZiBuID09IG5pbCB8fCBsZW4obikgPT0gMCB7CgkJcmV0dXJuIG5pbCwgbmlsCgl9CgkKCXJldHVybiAieyIgKyBzdHJpbmdzLlRyaW0oc3RyaW5ncy5Kb2luKHN0cmluZ3MuRmllbGRzKGZtdC5TcHJpbnQobikpLCAiLCIpLCAiW10iKSArICJ9IiwgbmlsCn0KCi8vIFNjYW4gaXMgdXNlZCB3aGVuIHJlYWRpbmcgZGF0YSBmcm9tIHRoZSBkYXRhYmFzZS4KZnVuYyAobiAqQm9vbEFycmF5KSBTY2FuKHNyYyBpbnRlcmZhY2V7fSkgZXJyb3IgewoJLy8gRW10cHkgdGhlIGFycmF5IHRvIHByb3RlY3QgYWdhaW5zdCByZXVzZWQgc2NhbiBzdHJ1Y3RzLgoJKm4gPSAoKm4pWzowXQoJCglpZiBzcmMgPT0gbmlsIHsKCQlyZXR1cm4gbmlsCgl9CgoJcmF3Qnl0ZXMsIG9rIDo9IHNyYy4oW11ieXRlKQoJaWYgIW9rIHsKCQlyZXR1cm4gZm10LkVycm9yZigiZXhwZWN0ZWQgW11ieXRlIGluIEJvb2xBcnJheS5TY2FuIGJ1dCBnb3QgJVQiLCBzcmMpCgl9CgoJcmF3IDo9IHN0cmluZ3MuVHJpbShzdHJpbmcocmF3Qnl0ZXMpLCAie30gIikKCWlmIHJhdyA9PSAiIiB7CgkJcmV0dXJuIG5pbAoJfQoKCXBhcnRzIDo9IHN0cmluZ3MuU3BsaXQocmF3LCAiLCIpCglpZiBsZW4ocGFydHMpID09IDAgewoJCXJldHVybiBuaWwKCX0KCglmb3IgXywgcGFydCA6PSByYW5nZSBwYXJ0cyB7CgkJZiwgZXJyIDo9IHN0cmNvbnYuUGFyc2VCb29sKHN0cmluZ3MuVHJpbShwYXJ0LCBgIGApKQoJCWlmIGVyciAhPSBuaWwgewoJCQlyZXR1cm4gZXJyCgkJfQoJCSpuID0gYXBwZW5kKCpuLCBmKQoJfQoKCXJldHVybiBuaWwKfQoKLyotLS0tLS0tLS0tLS0tLS0tLSsKfCBIZWxwZXIgZnVuY3Rpb25zIHwKKy0tLS0tLS0tLS0tLS0tLS0tKi8KCi8vIFRvTnVsbFN0cmluZyByZXR1cm5zIGEgbmV3IE51bGxTdHJpbmcKZnVuYyBUb051bGxTdHJpbmcocyAqc3RyaW5nKSBOdWxsU3RyaW5nIHsKCWlmIHMgPT0gbmlsIHsKCQlyZXR1cm4gTnVsbFN0cmluZyhzcWwuTnVsbFN0cmluZ3tWYWxpZDogZmFsc2V9KQoJfQoJcmV0dXJuIE51bGxTdHJpbmcoc3FsLk51bGxTdHJpbmd7U3RyaW5nOiAqcywgVmFsaWQ6IHRydWV9KQp9CgovLyBUb051bGxJbnQ2NCByZXR1cm5zIGEgbmV3IE51bGxJbnQ2NApmdW5jIFRvTnVsbEludDY0KGkgKmludDY0KSBOdWxsSW50NjQgewoJaWYgaSA9PSBuaWwgewoJCXJldHVybiBOdWxsSW50NjQoc3FsLk51bGxJbnQ2NHtWYWxpZDogZmFsc2V9KQoJfQoJcmV0dXJuIE51bGxJbnQ2NChzcWwuTnVsbEludDY0e0ludDY0OiAqaSwgVmFsaWQ6IHRydWV9KQp9CgovLyBUb051bGxGbG9hdDY0IHJldHVybnMgYSBuZXcgTnVsbEZsb2F0NjQKZnVuYyBUb051bGxGbG9hdDY0KGkgKmZsb2F0NjQpIE51bGxGbG9hdDY0IHsKCWlmIGkgPT0gbmlsIHsKCQlyZXR1cm4gTnVsbEZsb2F0NjQoc3FsLk51bGxGbG9hdDY0e1ZhbGlkOiBmYWxzZX0pCgl9CglyZXR1cm4gTnVsbEZsb2F0NjQoc3FsLk51bGxGbG9hdDY0e0Zsb2F0NjQ6ICppLCBWYWxpZDogdHJ1ZX0pCn0KCi8vIFRvTnVsbEJvb2wgY3JlYXRlcyBhIG5ldyBOdWxsQm9vbApmdW5jIFRvTnVsbEJvb2woYiAqYm9vbCkgTnVsbEJvb2wgewoJaWYgYiA9PSBuaWwgewoJCXJldHVybiBOdWxsQm9vbChzcWwuTnVsbEJvb2x7VmFsaWQ6IGZhbHNlfSkKCX0KCXJldHVybiBOdWxsQm9vbChzcWwuTnVsbEJvb2x7Qm9vbDogKmIsIFZhbGlkOiB0cnVlfSkKfQoKLy8gVG9OdWxsVGltZSBjcmVhdGVzIGEgbmV3IE51bGxUaW1lCmZ1bmMgVG9OdWxsVGltZSh0IHRpbWUuVGltZSkgTnVsbFRpbWUgewoJaWYgdCA9PSBlbXB0eVRpbWUgewoJCXJldHVybiBOdWxsVGltZShwcS5OdWxsVGltZXtWYWxpZDogZmFsc2V9KQoJfQoJcmV0dXJuIE51bGxUaW1lKHBxLk51bGxUaW1le1RpbWU6IHQsIFZhbGlkOiB0cnVlfSkKfQp7e2VuZH19Cg==\"")
	packr.PackJSONBytes("./tmpl", "x_helpers_test.html", "\"e3tkZWZpbmUgImhlbHBlcnN0ZXN0In19Ci8vK2J1aWxkICFoZWxwZXJzCgpwYWNrYWdlIHt7IC5QYWNrYWdlTmFtZSB9fQoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnwgQ29kZSBnZW5lcmF0ZWQgYnkgbW9kZWxnZW4gfAp8ICAgICAgICBETyBOT1QgRURJVC4gICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgppbXBvcnQgKAoJImRhdGFiYXNlL3NxbC9kcml2ZXIiCgkiZW5jb2RpbmcvanNvbiIKCSJyZWZsZWN0IgoJInRlc3RpbmciCgkidGltZSIKKQoKZnVuYyBUZXN0U3RydWN0RW1iZWRkaW5nKHQgKnRlc3RpbmcuVCkgewoJdGltIDo9IHRpbWUuRGF0ZSgyMDE3LCAxLCAxLCAwLCAwLCAwLCAwLCB0aW1lLlVUQykKCWV4cGVjdGVkIDo9IFtdYnl0ZShgeyJhIjoxMjMsImIiOnRydWUsImMiOjEyMy4xMjMsImQiOiJzdHJpbmciLCJlIjoiMjAxNy0wMS0wMVQwMDowMDowMFoiLCJmIjpbMSwyLDNdfWApCgl0eXBlIGVtYmVkIHN0cnVjdCB7CgkJQSBOdWxsSW50NjQgICBganNvbjoiYSxvbWl0ZW1wdHkiYAoJCUIgTnVsbEJvb2wgICAgYGpzb246ImIsb21pdGVtcHR5ImAKCQlDIE51bGxGbG9hdDY0IGBqc29uOiJjLG9taXRlbXB0eSJgCgkJRCBOdWxsU3RyaW5nICBganNvbjoiZCxvbWl0ZW1wdHkiYAoJCUUgTnVsbFRpbWUgICAgYGpzb246ImUsb21pdGVtcHR5ImAKCQlGIFJhd0pTT04gICAgIGBqc29uOiJmLG9taXRlbXB0eSJgCgl9CgllbSA6PSBlbWJlZHsKCQlBOiBOdWxsSW50NjR7VmFsaWQ6IHRydWUsIEludDY0OiAxMjN9LAoJCUI6IE51bGxCb29se1ZhbGlkOiB0cnVlLCBCb29sOiB0cnVlfSwKCQlDOiBOdWxsRmxvYXQ2NHtWYWxpZDogdHJ1ZSwgRmxvYXQ2NDogMTIzLjEyM30sCgkJRDogTnVsbFN0cmluZ3tWYWxpZDogdHJ1ZSwgU3RyaW5nOiAic3RyaW5nIn0sCgkJRTogTnVsbFRpbWV7VmFsaWQ6IHRydWUsIFRpbWU6IHRpbX0sCgkJRjogUmF3SlNPTihgWzEsMiwzXWApLAoJfQoJYiwgZXJyIDo9IGpzb24uTWFyc2hhbChlbSkKCWlmIGVyciAhPSBuaWwgewoJCXQuRmF0YWwoZXJyKQoJfQoJaWYgIXJlZmxlY3QuRGVlcEVxdWFsKGV4cGVjdGVkLCBiKSB7CgkJdC5GYXRhbCgibm90IHRoZSBzYW1lIEpTT04hIikKCX0KCWlmICEoc3RyaW5nKGIpID09IHN0cmluZyhleHBlY3RlZCkpIHsKCQl0LkZhdGFsKCJub3QgdGhlIHNhbWUhIikKCX0KCgl2YXIgZW0yIGVtYmVkCglpZiBlcnIgOj0ganNvbi5Vbm1hcnNoYWwoZXhwZWN0ZWQsICZlbTIpOyBlcnIgIT0gbmlsIHsKCQl0LkZhdGFsKGVycikKCX0KCWlmICFyZWZsZWN0LkRlZXBFcXVhbChlbTIsIGVtKSB7CgkJdC5GYXRhbCgibm90IGNvcnJlY3QiKQoJfQp9CgovKioqKioqKioqKioqKioqKioqKgoqIE51bGxTdHJpbmcgVGVzdHMgKgoqKioqKioqKioqKioqKioqKioqLwoKZnVuYyBUZXN0TnVsbFN0cmluZ19Vbm1hcnNoYWxKU09OKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICBOdWxsU3RyaW5nCgkJc291cmNlICBbXWJ5dGUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAgICAidmFsaWQiLAoJCQlzb3VyY2U6ICBbXWJ5dGUoYCJoZWxsbyJgKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCQl7CgkJCW5hbWU6ICAgICJpbnZhbGlkIiwKCQkJc291cmNlOiAgW11ieXRlKGB7ImtleSI6InZhbHVlIn1gKSwKCQkJd2FudEVycjogdHJ1ZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgImVtcHR5IiwKCQkJc291cmNlOiAgW11ieXRle30sCgkJCXdhbnRFcnI6IHRydWUsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJaWYgZXJyIDo9IHR0Lm4uVW5tYXJzaGFsSlNPTih0dC5zb3VyY2UpOyAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiTnVsbFN0cmluZy5Vbm1hcnNoYWxKU09OKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJfQoJCX0pCgl9Cn0KCmZ1bmMgVGVzdE51bGxTdHJpbmdfVmFsdWUodCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgIE51bGxTdHJpbmcKCQl3YW50ICAgIGRyaXZlci5WYWx1ZQoJCXdhbnRFcnIgYm9vbAoJfXsKCQl7CgkJCW5hbWU6ICJ2YWxpZCIsCgkJCW46IE51bGxTdHJpbmd7CgkJCQlWYWxpZDogIHRydWUsCgkJCQlTdHJpbmc6ICJoZWxsbyIsCgkJCX0sCgkJCXdhbnQ6ICAgIGRyaXZlci5WYWx1ZSgiaGVsbG8iKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCQl7CgkJCW5hbWU6ICJpbnZhbGlkIiwKCQkJbjogTnVsbFN0cmluZ3sKCQkJCVZhbGlkOiBmYWxzZSwKCQkJfSwKCQkJd2FudDogICAgbmlsLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJfQoJZm9yIF8sIHR0IDo9IHJhbmdlIHRlc3RzIHsKCQl0LlJ1bih0dC5uYW1lLCBmdW5jKHQgKnRlc3RpbmcuVCkgewoJCQlnb3QsIGVyciA6PSB0dC5uLlZhbHVlKCkKCQkJaWYgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIk51bGxTdHJpbmcuVmFsdWUoKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQkJcmV0dXJuCgkJCX0KCQkJaWYgIXJlZmxlY3QuRGVlcEVxdWFsKGdvdCwgdHQud2FudCkgewoJCQkJdC5FcnJvcmYoIk51bGxTdHJpbmcuVmFsdWUoKSA9ICV2LCB3YW50ICV2IiwgZ290LCB0dC53YW50KQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0TnVsbFN0cmluZ19TY2FuKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICAqTnVsbFN0cmluZwoJCXdhbnRFcnIgYm9vbAoJCXNyYyAgICAgaW50ZXJmYWNle30KCX17CgkJewoJCQluYW1lOiAidmFsaWQiLAoJCQluOiAmTnVsbFN0cmluZ3sKCQkJCVN0cmluZzogImhlbGxvIiwKCQkJCVZhbGlkOiAgdHJ1ZSwKCQkJfSwKCQkJc3JjOiAgICAgIiIsCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAibmlsIHZhbHVlIiwKCQkJbjogJk51bGxTdHJpbmd7CgkJCQlTdHJpbmc6ICJoZWxsbyIsCgkJCQlWYWxpZDogIGZhbHNlLAoJCQl9LAoJCQlzcmM6ICAgICBuaWwsCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWlmIGVyciA6PSB0dC5uLlNjYW4odHQuc3JjKTsgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIk51bGxTdHJpbmcuU2NhbigpIGVycm9yID0gJXYsIHdhbnRFcnIgJXYiLCBlcnIsIHR0LndhbnRFcnIpCgkJCX0KCQkJaWYgdHQubi5WYWxpZCA9PSBmYWxzZSAmJiB0dC5zcmMgIT0gbmlsIHsKCQkJCXQuRXJyb3JmKCJzaG91bGQgcmV0dXJuIG51bGwiKQoJCQl9CgkJCWlmIHR0Lm4uVmFsaWQgJiYgdHQuc3JjICE9IHR0Lm4uU3RyaW5nIHsKCQkJCXQuRXJyb3JmKCJpbnZhbGlkIHZhbHVlIikKCQkJfQoJCX0pCgl9Cn0KCmZ1bmMgVGVzdE51bGxTdHJpbmdfTWFyc2hhbEpTT04odCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgICpOdWxsU3RyaW5nCgkJd2FudCAgICBbXWJ5dGUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAidmFsaWQiLAoJCQluOiAmTnVsbFN0cmluZ3sKCQkJCVN0cmluZzogImhlbGxvIiwKCQkJCVZhbGlkOiAgdHJ1ZSwKCQkJfSwKCQkJd2FudDogICAgW11ieXRlKGAiaGVsbG8iYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAidmFsaWQgbnVsbCIsCgkJCW46ICZOdWxsU3RyaW5newoJCQkJU3RyaW5nOiAiIiwKCQkJCVZhbGlkOiAgZmFsc2UsCgkJCX0sCgkJCXdhbnQ6ICAgIFtdYnl0ZShgbnVsbGApLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogImludmFsaWQiLAoJCQluOiAmTnVsbFN0cmluZ3sKCQkJCVZhbGlkOiB0cnVlLAoJCQl9LAoJCQl3YW50OiAgICBbXWJ5dGUoYCIiYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWdvdCwgZXJyIDo9IHR0Lm4uTWFyc2hhbEpTT04oKQoJCQlpZiAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiTnVsbFN0cmluZy5NYXJzaGFsSlNPTigpIGVycm9yID0gJXYsIHdhbnRFcnIgJXYiLCBlcnIsIHR0LndhbnRFcnIpCgkJCQlyZXR1cm4KCQkJfQoJCQlpZiAhcmVmbGVjdC5EZWVwRXF1YWwoZ290LCB0dC53YW50KSB7CgkJCQl0LkVycm9yZigiTnVsbFN0cmluZy5NYXJzaGFsSlNPTigpID0gJXYsIHdhbnQgJXYiLCBnb3QsIHR0LndhbnQpCgkJCX0KCQl9KQoJfQp9CgovKioqKioqKioqKioqKioqKioKKiBOdWxsQm9vbCBUZXN0cyAqCioqKioqKioqKioqKioqKioqLwoKZnVuYyBUZXN0TnVsbEJvb2xfVW5tYXJzaGFsSlNPTih0ICp0ZXN0aW5nLlQpIHsKCXRlc3RzIDo9IFtdc3RydWN0IHsKCQluYW1lICAgICAgICAgc3RyaW5nCgkJbiAgICAgICAgICAgIE51bGxCb29sCgkJc291cmNlICAgICAgIFtdYnl0ZQoJCXdhbnRFcnIgICAgICBib29sCgkJd2FudFZhbGlkaXR5IGJvb2wKCX17CgkJewoJCQluYW1lOiAgICAgICAgICJ2YWxpZCIsCgkJCXNvdXJjZTogICAgICAgW11ieXRlKGBmYWxzZWApLAoJCQl3YW50RXJyOiAgICAgIGZhbHNlLAoJCQl3YW50VmFsaWRpdHk6IHRydWUsCgkJfSwKCQl7CgkJCW5hbWU6ICAgICAgICAgImludmFsaWQiLAoJCQlzb3VyY2U6ICAgICAgIFtdYnl0ZShgeyJrZXkiOiJ2YWx1ZSJ9YCksCgkJCXdhbnRFcnI6ICAgICAgdHJ1ZSwKCQkJd2FudFZhbGlkaXR5OiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgICAgICAiZW1wdHkiLAoJCQlzb3VyY2U6ICAgICAgIFtdYnl0ZXt9LAoJCQl3YW50RXJyOiAgICAgIHRydWUsCgkJCXdhbnRWYWxpZGl0eTogZmFsc2UsCgkJfSwKCQl7CgkJCW5hbWU6ICAgICAgICAgImV4cGxpY2l0IG51bGwiLAoJCQlzb3VyY2U6ICAgICAgIFtdYnl0ZSgibnVsbCIpLAoJCQl3YW50RXJyOiAgICAgIGZhbHNlLAoJCQl3YW50VmFsaWRpdHk6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWlmIGVyciA6PSB0dC5uLlVubWFyc2hhbEpTT04odHQuc291cmNlKTsgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgJiYgdHQubi5WYWxpZCA9PSB0dC53YW50VmFsaWRpdHkgewoJCQkJdC5FcnJvcmYoIk51bGxCb29sLlVubWFyc2hhbEpTT04oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0TnVsbEJvb2xfVmFsdWUodCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgIE51bGxCb29sCgkJd2FudCAgICBkcml2ZXIuVmFsdWUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAidmFsaWQiLAoJCQluOiBOdWxsQm9vbHsKCQkJCVZhbGlkOiB0cnVlLAoJCQkJQm9vbDogIHRydWUsCgkJCX0sCgkJCXdhbnQ6ICAgIGRyaXZlci5WYWx1ZSh0cnVlKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCQl7CgkJCW5hbWU6ICJpbnZhbGlkIiwKCQkJbjogTnVsbEJvb2x7CgkJCQlWYWxpZDogZmFsc2UsCgkJCX0sCgkJCXdhbnQ6ICAgIG5pbCwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJZ290LCBlcnIgOj0gdHQubi5WYWx1ZSgpCgkJCWlmIChlcnIgIT0gbmlsKSAhPSB0dC53YW50RXJyIHsKCQkJCXQuRXJyb3JmKCJOdWxsQm9vbC5WYWx1ZSgpIGVycm9yID0gJXYsIHdhbnRFcnIgJXYiLCBlcnIsIHR0LndhbnRFcnIpCgkJCQlyZXR1cm4KCQkJfQoJCQlpZiAhcmVmbGVjdC5EZWVwRXF1YWwoZ290LCB0dC53YW50KSB7CgkJCQl0LkVycm9yZigiTnVsbEJvb2wuVmFsdWUoKSA9ICV2LCB3YW50ICV2IiwgZ290LCB0dC53YW50KQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0TnVsbEJvb2xfU2Nhbih0ICp0ZXN0aW5nLlQpIHsKCXRlc3RzIDo9IFtdc3RydWN0IHsKCQluYW1lICAgIHN0cmluZwoJCW4gICAgICAgKk51bGxCb29sCgkJd2FudEVyciBib29sCgkJc3JjICAgICBpbnRlcmZhY2V7fQoJfXsKCQl7CgkJCW5hbWU6ICJ2YWxpZCIsCgkJCW46ICZOdWxsQm9vbHsKCQkJCUJvb2w6ICB0cnVlLAoJCQkJVmFsaWQ6IHRydWUsCgkJCX0sCgkJCXNyYzogICAgIHRydWUsCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAibmlsIHZhbHVlIiwKCQkJbjogJk51bGxCb29sewoJCQkJQm9vbDogIHRydWUsCgkJCQlWYWxpZDogZmFsc2UsCgkJCX0sCgkJCXNyYzogICAgIGZhbHNlLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJfQoJZm9yIF8sIHR0IDo9IHJhbmdlIHRlc3RzIHsKCQl0LlJ1bih0dC5uYW1lLCBmdW5jKHQgKnRlc3RpbmcuVCkgewoJCQlpZiBlcnIgOj0gdHQubi5TY2FuKHR0LnNyYyk7IChlcnIgIT0gbmlsKSAhPSB0dC53YW50RXJyIHsKCQkJCXQuRXJyb3JmKCJOdWxsQm9vbC5TY2FuKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJfQoJCQlpZiB0dC5uLlZhbGlkID09IGZhbHNlICYmIHR0LnNyYyAhPSBuaWwgewoJCQkJdC5FcnJvcmYoInNob3VsZCByZXR1cm4gbnVsbCIpCgkJCX0KCQkJaWYgdHQubi5WYWxpZCAmJiB0dC5zcmMgIT0gdHQubi5Cb29sIHsKCQkJCXQuRXJyb3JmKCJpbnZhbGlkIHZhbHVlIikKCQkJfQoJCX0pCgl9Cn0KCmZ1bmMgVGVzdE51bGxCb29sX01hcnNoYWxKU09OKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICAqTnVsbEJvb2wKCQl3YW50ICAgIFtdYnl0ZQoJCXdhbnRFcnIgYm9vbAoJfXsKCQl7CgkJCW5hbWU6ICJ2YWxpZCIsCgkJCW46ICZOdWxsQm9vbHsKCQkJCVZhbGlkOiB0cnVlLAoJCQl9LAoJCQl3YW50OiAgICBbXWJ5dGUoYGZhbHNlYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAidmFsaWQgbnVsbCIsCgkJCW46ICZOdWxsQm9vbHsKCQkJCVZhbGlkOiBmYWxzZSwKCQkJfSwKCQkJd2FudDogICAgW11ieXRlKGBudWxsYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAiaW52YWxpZCIsCgkJCW46ICZOdWxsQm9vbHsKCQkJCVZhbGlkOiB0cnVlLAoJCQl9LAoJCQl3YW50OiAgICBbXWJ5dGUoYGZhbHNlYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWdvdCwgZXJyIDo9IHR0Lm4uTWFyc2hhbEpTT04oKQoJCQlpZiAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiTnVsbEJvb2wuTWFyc2hhbEpTT04oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQkJcmV0dXJuCgkJCX0KCQkJaWYgIXJlZmxlY3QuRGVlcEVxdWFsKGdvdCwgdHQud2FudCkgewoJCQkJdC5FcnJvcmYoIk51bGxCb29sLk1hcnNoYWxKU09OKCkgPSAldiwgd2FudCAldiIsIGdvdCwgdHQud2FudCkKCQkJfQoJCX0pCgl9Cn0KCi8qKioqKioqKioqKioqKioqKgoqIE51bGxUaW1lIFRlc3RzICoKKioqKioqKioqKioqKioqKiovCgpmdW5jIFRlc3ROdWxsVGltZV9Vbm1hcnNoYWxKU09OKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICBOdWxsVGltZQoJCXNvdXJjZSAgW11ieXRlCgkJd2FudEVyciBib29sCgl9ewoJCXsKCQkJbmFtZTogICAgInZhbGlkIiwKCQkJc291cmNlOiAgW11ieXRlKGAiMjAxNy0xMS0yNFQwMDowMDowMFoiYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAgICAiaW52YWxpZCIsCgkJCXNvdXJjZTogIFtdYnl0ZShgeyJrZXkiOiJ2YWx1ZSJ9YCksCgkJCXdhbnRFcnI6IHRydWUsCgkJfSwKCQl7CgkJCW5hbWU6ICAgICJlbXB0eSIsCgkJCXNvdXJjZTogIFtdYnl0ZXt9LAoJCQl3YW50RXJyOiB0cnVlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWlmIGVyciA6PSB0dC5uLlVubWFyc2hhbEpTT04odHQuc291cmNlKTsgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIk51bGxCb29sLlVubWFyc2hhbEpTT04oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0TnVsbFRpbWVfVmFsdWUodCAqdGVzdGluZy5UKSB7Cgl0aW0gOj0gdGltZS5Ob3coKQoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICBOdWxsVGltZQoJCXdhbnQgICAgZHJpdmVyLlZhbHVlCgkJd2FudEVyciBib29sCgl9ewoJCXsKCQkJbmFtZTogInZhbGlkIiwKCQkJbjogTnVsbFRpbWV7CgkJCQlWYWxpZDogdHJ1ZSwKCQkJCVRpbWU6ICB0aW0sCgkJCX0sCgkJCXdhbnQ6ICAgIGRyaXZlci5WYWx1ZSh0aW0pLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogImludmFsaWQiLAoJCQluOiBOdWxsVGltZXsKCQkJCVZhbGlkOiBmYWxzZSwKCQkJfSwKCQkJd2FudDogICAgbmlsLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJfQoJZm9yIF8sIHR0IDo9IHJhbmdlIHRlc3RzIHsKCQl0LlJ1bih0dC5uYW1lLCBmdW5jKHQgKnRlc3RpbmcuVCkgewoJCQlnb3QsIGVyciA6PSB0dC5uLlZhbHVlKCkKCQkJaWYgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIk51bGxUaW1lLlZhbHVlKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJCXJldHVybgoJCQl9CgkJCWlmICFyZWZsZWN0LkRlZXBFcXVhbChnb3QsIHR0LndhbnQpIHsKCQkJCXQuRXJyb3JmKCJOdWxsVGltZS5WYWx1ZSgpID0gJXYsIHdhbnQgJXYiLCBnb3QsIHR0LndhbnQpCgkJCX0KCQl9KQoJfQp9CgpmdW5jIFRlc3ROdWxsVGltZV9TY2FuKHQgKnRlc3RpbmcuVCkgewoJdGltIDo9IHRpbWUuTm93KCkKCXRlc3RzIDo9IFtdc3RydWN0IHsKCQluYW1lICAgIHN0cmluZwoJCW4gICAgICAgKk51bGxUaW1lCgkJd2FudEVyciBib29sCgkJc3JjICAgICBpbnRlcmZhY2V7fQoJfXsKCQl7CgkJCW5hbWU6ICJ2YWxpZCIsCgkJCW46ICZOdWxsVGltZXsKCQkJCVRpbWU6ICB0aW0sCgkJCQlWYWxpZDogdHJ1ZSwKCQkJfSwKCQkJc3JjOiAgICAgdGltLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogIm5pbCB2YWx1ZSIsCgkJCW46ICZOdWxsVGltZXsKCQkJCVRpbWU6ICB0aW0sCgkJCQlWYWxpZDogZmFsc2UsCgkJCX0sCgkJCXNyYzogICAgIHRpbWUuTm93KCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWlmIGVyciA6PSB0dC5uLlNjYW4odHQuc3JjKTsgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIk51bGxUaW1lLlNjYW4oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQl9CgkJCWlmIHR0Lm4uVmFsaWQgPT0gZmFsc2UgJiYgdHQuc3JjICE9IG5pbCB7CgkJCQl0LkVycm9yZigic2hvdWxkIHJldHVybiBudWxsIikKCQkJfQoJCQlpZiB0dC5uLlZhbGlkICYmIHR0LnNyYyAhPSB0dC5uLlRpbWUgewoJCQkJdC5FcnJvcmYoImludmFsaWQgdmFsdWUiKQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0TnVsbFRpbWVfTWFyc2hhbEpTT04odCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgICpOdWxsVGltZQoJCXdhbnQgICAgW11ieXRlCgkJd2FudEVyciBib29sCgl9ewoJCXsKCQkJbmFtZTogInZhbGlkIiwKCQkJbjogJk51bGxUaW1lewoJCQkJVGltZTogIHRpbWUuRGF0ZSgyMDE3LCAxMSwgMjQsIDAsIDAsIDAsIDAsIHRpbWUuVVRDKSwKCQkJCVZhbGlkOiB0cnVlLAoJCQl9LAoJCQl3YW50OiAgICBbXWJ5dGUoYCIyMDE3LTExLTI0VDAwOjAwOjAwWiJgKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCQl7CgkJCW5hbWU6ICJ2YWxpZCBudWxsIiwKCQkJbjogJk51bGxUaW1lewoJCQkJVmFsaWQ6IGZhbHNlLAoJCQl9LAoJCQl3YW50OiAgICBbXWJ5dGUoYG51bGxgKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCQl7CgkJCW5hbWU6ICJpbnZhbGlkIiwKCQkJbjogJk51bGxUaW1lewoJCQkJVmFsaWQ6IHRydWUsCgkJCX0sCgkJCXdhbnQ6ICAgIFtdYnl0ZShgIjAwMDEtMDEtMDFUMDA6MDA6MDBaImApLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJfQoJZm9yIF8sIHR0IDo9IHJhbmdlIHRlc3RzIHsKCQl0LlJ1bih0dC5uYW1lLCBmdW5jKHQgKnRlc3RpbmcuVCkgewoJCQlnb3QsIGVyciA6PSB0dC5uLk1hcnNoYWxKU09OKCkKCQkJaWYgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIk51bGxUaW1lLk1hcnNoYWxKU09OKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJCXJldHVybgoJCQl9CgkJCWlmICFyZWZsZWN0LkRlZXBFcXVhbChnb3QsIHR0LndhbnQpIHsKCQkJCXQuRXJyb3JmKCJOdWxsVGltZS5NYXJzaGFsSlNPTigpID0gJXYsIHdhbnQgJXYiLCBnb3QsIHR0LndhbnQpCgkJCX0KCQl9KQoJfQp9CgovKioqKioqKioqKioqKioqKioqCiogTnVsbEludDY0IFRlc3RzICoKKioqKioqKioqKioqKioqKioqLwoKZnVuYyBUZXN0TnVsbEludDY0X1VubWFyc2hhbEpTT04odCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgIE51bGxJbnQ2NAoJCXNvdXJjZSAgW11ieXRlCgkJd2FudEVyciBib29sCgl9ewoJCXsKCQkJbmFtZTogICAgInZhbGlkIiwKCQkJc291cmNlOiAgW11ieXRlKGAxMjNgKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCQl7CgkJCW5hbWU6ICAgICJpbnZhbGlkIiwKCQkJc291cmNlOiAgW11ieXRlKGB7ImtleSI6InZhbHVlIn1gKSwKCQkJd2FudEVycjogdHJ1ZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgImVtcHR5IiwKCQkJc291cmNlOiAgW11ieXRle30sCgkJCXdhbnRFcnI6IHRydWUsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJaWYgZXJyIDo9IHR0Lm4uVW5tYXJzaGFsSlNPTih0dC5zb3VyY2UpOyAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiTnVsbEludDY0LlVubWFyc2hhbEpTT04oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0TnVsbEludDY0X1ZhbHVlKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICBOdWxsSW50NjQKCQl3YW50ICAgIGRyaXZlci5WYWx1ZQoJCXdhbnRFcnIgYm9vbAoJfXsKCQl7CgkJCW5hbWU6ICJ2YWxpZCIsCgkJCW46IE51bGxJbnQ2NHsKCQkJCVZhbGlkOiB0cnVlLAoJCQkJSW50NjQ6IDEyMywKCQkJfSwKCQkJd2FudDogICAgZHJpdmVyLlZhbHVlKGludDY0KDEyMykpLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogImludmFsaWQiLAoJCQluOiBOdWxsSW50NjR7CgkJCQlWYWxpZDogZmFsc2UsCgkJCX0sCgkJCXdhbnQ6ICAgIG5pbCwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJZ290LCBlcnIgOj0gdHQubi5WYWx1ZSgpCgkJCWlmIChlcnIgIT0gbmlsKSAhPSB0dC53YW50RXJyIHsKCQkJCXQuRXJyb3JmKCJOdWxsSW50NjQuVmFsdWUoKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQkJcmV0dXJuCgkJCX0KCQkJaWYgIXJlZmxlY3QuRGVlcEVxdWFsKGdvdCwgdHQud2FudCkgewoJCQkJdC5FcnJvcmYoIk51bGxJbnQ2NC5WYWx1ZSgpID0gJXYsIHdhbnQgJXYiLCBnb3QsIHR0LndhbnQpCgkJCX0KCQl9KQoJfQp9CgpmdW5jIFRlc3ROdWxsSW50NjRfU2Nhbih0ICp0ZXN0aW5nLlQpIHsKCXRlc3RzIDo9IFtdc3RydWN0IHsKCQluYW1lICAgIHN0cmluZwoJCW4gICAgICAgKk51bGxJbnQ2NAoJCXdhbnRFcnIgYm9vbAoJCXNyYyAgICAgaW50ZXJmYWNle30KCX17CgkJewoJCQluYW1lOiAidmFsaWQiLAoJCQluOiAmTnVsbEludDY0ewoJCQkJSW50NjQ6IDEyMywKCQkJCVZhbGlkOiB0cnVlLAoJCQl9LAoJCQlzcmM6ICAgICBpbnQ2NCgxMjMpLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogIm5pbCB2YWx1ZSIsCgkJCW46ICZOdWxsSW50NjR7CgkJCQlWYWxpZDogZmFsc2UsCgkJCX0sCgkJCXNyYzogICAgIGludDY0KDEyMyksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWlmIGVyciA6PSB0dC5uLlNjYW4odHQuc3JjKTsgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIk51bGxJbnQ2NC5TY2FuKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJfQoJCQlpZiB0dC5uLlZhbGlkID09IGZhbHNlICYmIHR0LnNyYyAhPSBuaWwgewoJCQkJdC5FcnJvcmYoInNob3VsZCByZXR1cm4gbnVsbCIpCgkJCX0KCQkJaWYgdHQubi5WYWxpZCAmJiB0dC5zcmMgIT0gdHQubi5JbnQ2NCB7CgkJCQl0LkVycm9yZigiaW52YWxpZCB2YWx1ZSIpCgkJCX0KCQl9KQoJfQp9CgpmdW5jIFRlc3ROdWxsSW50NjRfTWFyc2hhbEpTT04odCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgICpOdWxsSW50NjQKCQl3YW50ICAgIFtdYnl0ZQoJCXdhbnRFcnIgYm9vbAoJfXsKCQl7CgkJCW5hbWU6ICJ2YWxpZCIsCgkJCW46ICZOdWxsSW50NjR7CgkJCQlJbnQ2NDogMTIzLAoJCQkJVmFsaWQ6IHRydWUsCgkJCX0sCgkJCXdhbnQ6ICAgIFtdYnl0ZShgMTIzYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAidmFsaWQgbnVsbCIsCgkJCW46ICZOdWxsSW50NjR7CgkJCQlWYWxpZDogZmFsc2UsCgkJCX0sCgkJCXdhbnQ6ICAgIFtdYnl0ZShgbnVsbGApLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogImludmFsaWQiLAoJCQluOiAmTnVsbEludDY0ewoJCQkJVmFsaWQ6IHRydWUsCgkJCX0sCgkJCXdhbnQ6ICAgIFtdYnl0ZShgMGApLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJfQoJZm9yIF8sIHR0IDo9IHJhbmdlIHRlc3RzIHsKCQl0LlJ1bih0dC5uYW1lLCBmdW5jKHQgKnRlc3RpbmcuVCkgewoJCQlnb3QsIGVyciA6PSB0dC5uLk1hcnNoYWxKU09OKCkKCQkJaWYgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIk51bGxJbnQ2NC5NYXJzaGFsSlNPTigpIGVycm9yID0gJXYsIHdhbnRFcnIgJXYiLCBlcnIsIHR0LndhbnRFcnIpCgkJCQlyZXR1cm4KCQkJfQoJCQlpZiAhcmVmbGVjdC5EZWVwRXF1YWwoZ290LCB0dC53YW50KSB7CgkJCQl0LkVycm9yZigiTnVsbEludDY0Lk1hcnNoYWxKU09OKCkgPSAldiwgd2FudCAldiIsIGdvdCwgdHQud2FudCkKCQkJfQoJCX0pCgl9Cn0KCi8qKioqKioqKioqKioqKioqKioqKgoqIE51bGxGbG9hdDY0IFRlc3RzICoKKioqKioqKioqKioqKioqKioqKiovCgpmdW5jIFRlc3ROdWxsRmxvYXQ2NF9Vbm1hcnNoYWxKU09OKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICBOdWxsRmxvYXQ2NAoJCXNvdXJjZSAgW11ieXRlCgkJd2FudEVyciBib29sCgl9ewoJCXsKCQkJbmFtZTogICAgInZhbGlkIiwKCQkJc291cmNlOiAgW11ieXRlKGAxMjMuMTIzYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAgICAiaW52YWxpZCIsCgkJCXNvdXJjZTogIFtdYnl0ZShgeyJrZXkiOiJ2YWx1ZSJ9YCksCgkJCXdhbnRFcnI6IHRydWUsCgkJfSwKCQl7CgkJCW5hbWU6ICAgICJlbXB0eSIsCgkJCXNvdXJjZTogIFtdYnl0ZXt9LAoJCQl3YW50RXJyOiB0cnVlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWlmIGVyciA6PSB0dC5uLlVubWFyc2hhbEpTT04odHQuc291cmNlKTsgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIk51bGxGbG9hdDY0LlVubWFyc2hhbEpTT04oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0TnVsbEZsb2F0NjRfVmFsdWUodCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgIE51bGxGbG9hdDY0CgkJd2FudCAgICBkcml2ZXIuVmFsdWUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAidmFsaWQiLAoJCQluOiBOdWxsRmxvYXQ2NHsKCQkJCVZhbGlkOiAgIHRydWUsCgkJCQlGbG9hdDY0OiAxMjMuMTIzLAoJCQl9LAoJCQl3YW50OiAgICBkcml2ZXIuVmFsdWUoZmxvYXQ2NCgxMjMuMTIzKSksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAiaW52YWxpZCIsCgkJCW46IE51bGxGbG9hdDY0ewoJCQkJVmFsaWQ6IGZhbHNlLAoJCQl9LAoJCQl3YW50OiAgICBuaWwsCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWdvdCwgZXJyIDo9IHR0Lm4uVmFsdWUoKQoJCQlpZiAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiTnVsbEZsb2F0NjQuVmFsdWUoKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQkJcmV0dXJuCgkJCX0KCQkJaWYgIXJlZmxlY3QuRGVlcEVxdWFsKGdvdCwgdHQud2FudCkgewoJCQkJdC5FcnJvcmYoIk51bGxGbG9hdDY0LlZhbHVlKCkgPSAldiwgd2FudCAldiIsIGdvdCwgdHQud2FudCkKCQkJfQoJCX0pCgl9Cn0KCmZ1bmMgVGVzdE51bGxGbG9hdDY0X1NjYW4odCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgICpOdWxsRmxvYXQ2NAoJCXdhbnRFcnIgYm9vbAoJCXNyYyAgICAgaW50ZXJmYWNle30KCX17CgkJewoJCQluYW1lOiAidmFsaWQiLAoJCQluOiAmTnVsbEZsb2F0NjR7CgkJCQlGbG9hdDY0OiAxMjMuMTIzLAoJCQkJVmFsaWQ6ICAgdHJ1ZSwKCQkJfSwKCQkJc3JjOiAgICAgZmxvYXQ2NCgxMjMpLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogIm5pbCB2YWx1ZSIsCgkJCW46ICZOdWxsRmxvYXQ2NHsKCQkJCVZhbGlkOiBmYWxzZSwKCQkJfSwKCQkJc3JjOiAgICAgZmxvYXQ2NCgxMjMuMTIzKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJaWYgZXJyIDo9IHR0Lm4uU2Nhbih0dC5zcmMpOyAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiTnVsbEZsb2F0NjQuU2NhbigpIGVycm9yID0gJXYsIHdhbnRFcnIgJXYiLCBlcnIsIHR0LndhbnRFcnIpCgkJCX0KCQkJaWYgdHQubi5WYWxpZCA9PSBmYWxzZSAmJiB0dC5zcmMgIT0gbmlsIHsKCQkJCXQuRXJyb3JmKCJzaG91bGQgcmV0dXJuIG51bGwiKQoJCQl9CgkJCWlmIHR0Lm4uVmFsaWQgJiYgdHQuc3JjICE9IHR0Lm4uRmxvYXQ2NCB7CgkJCQl0LkVycm9yZigiaW52YWxpZCB2YWx1ZSIpCgkJCX0KCQl9KQoJfQp9CgpmdW5jIFRlc3ROdWxsRmxvYXQ2NF9NYXJzaGFsSlNPTih0ICp0ZXN0aW5nLlQpIHsKCXRlc3RzIDo9IFtdc3RydWN0IHsKCQluYW1lICAgIHN0cmluZwoJCW4gICAgICAgKk51bGxGbG9hdDY0CgkJd2FudCAgICBbXWJ5dGUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAidmFsaWQiLAoJCQluOiAmTnVsbEZsb2F0NjR7CgkJCQlGbG9hdDY0OiAxMjMuMTIzLAoJCQkJVmFsaWQ6ICAgdHJ1ZSwKCQkJfSwKCQkJd2FudDogICAgW11ieXRlKGAxMjMuMTIzYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAidmFsaWQgbnVsbCIsCgkJCW46ICZOdWxsRmxvYXQ2NHsKCQkJCVZhbGlkOiBmYWxzZSwKCQkJfSwKCQkJd2FudDogICAgW11ieXRlKGBudWxsYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAiaW52YWxpZCIsCgkJCW46ICZOdWxsRmxvYXQ2NHsKCQkJCVZhbGlkOiB0cnVlLAoJCQl9LAoJCQl3YW50OiAgICBbXWJ5dGUoYDBgKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJZ290LCBlcnIgOj0gdHQubi5NYXJzaGFsSlNPTigpCgkJCWlmIChlcnIgIT0gbmlsKSAhPSB0dC53YW50RXJyIHsKCQkJCXQuRXJyb3JmKCJOdWxsRmxvYXQ2NC5NYXJzaGFsSlNPTigpIGVycm9yID0gJXYsIHdhbnRFcnIgJXYiLCBlcnIsIHR0LndhbnRFcnIpCgkJCQlyZXR1cm4KCQkJfQoJCQlpZiAhcmVmbGVjdC5EZWVwRXF1YWwoZ290LCB0dC53YW50KSB7CgkJCQl0LkVycm9yZigiTnVsbEZsb2F0NjQuTWFyc2hhbEpTT04oKSA9ICV2LCB3YW50ICV2IiwgZ290LCB0dC53YW50KQoJCQl9CgkJfSkKCX0KfQoKLyoqKioqKioqKioqKioqKioqKioqCiogU3RyaW5nQXJyYXkgVGVzdHMgKgoqKioqKioqKioqKioqKioqKioqKi8KCmZ1bmMgVGVzdFN0cmluZ0FycmF5X1VubWFyc2hhbEpTT04odCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgIFN0cmluZ0FycmF5CgkJZXhwICAgICBTdHJpbmdBcnJheQoJCXNvdXJjZSAgW11ieXRlCgkJd2FudEVyciBib29sCgl9ewoJCXsKCQkJbmFtZTogICAgInZhbGlkIiwKCQkJc291cmNlOiAgW11ieXRlKGBbImEiLCJiIiwiYyJdYCksCgkJCWV4cDogICAgIFN0cmluZ0FycmF5eyJhIiwgImIiLCAiYyJ9LAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgImludmFsaWQgMSIsCgkJCXNvdXJjZTogIFtdYnl0ZShgeyJhIiwiYiIsImMifWApLAoJCQl3YW50RXJyOiB0cnVlLAoJCX0sCgkJewoJCQluYW1lOiAgICAiaW52YWxpZCAyIiwKCQkJc291cmNlOiAgW11ieXRlKGBbYSwgYiwgY11gKSwKCQkJd2FudEVycjogdHJ1ZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgImVtcHR5IiwKCQkJc291cmNlOiAgW11ieXRle30sCgkJCXdhbnRFcnI6IHRydWUsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJaWYgZXJyIDo9IHR0Lm4uVW5tYXJzaGFsSlNPTih0dC5zb3VyY2UpOyAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiU3RyaW5nQXJyYXkuVW5tYXJzaGFsSlNPTigpIGVycm9yID0gJXYsIHdhbnRFcnIgJXYiLCBlcnIsIHR0LndhbnRFcnIpCgkJCX0KCQkJaWYgIXR0LndhbnRFcnIgJiYgIXJlZmxlY3QuRGVlcEVxdWFsKHR0LmV4cCwgdHQubikgewoJCQkJdC5FcnJvcmYoIlN0cmluZ0FycmF5LlVubWFyc2hhbEpTT04oKSBleHA6ICV2IGdvdCAldiIsIHR0LmV4cCwgdHQubikKCQkJfQoJCX0pCgl9Cn0KCmZ1bmMgVGVzdFN0cmluZ0FycmF5X1ZhbHVlKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICBTdHJpbmdBcnJheQoJCXdhbnQgICAgZHJpdmVyLlZhbHVlCgkJd2FudEVyciBib29sCgl9ewoJCXsKCQkJbmFtZTogICAgInZhbGlkIiwKCQkJbjogICAgICAgU3RyaW5nQXJyYXl7ImEiLCAiYiIsICJjIn0sCgkJCXdhbnQ6ICAgIGRyaXZlci5WYWx1ZSgie2EsYixjfSIpLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJfQoJZm9yIF8sIHR0IDo9IHJhbmdlIHRlc3RzIHsKCQl0LlJ1bih0dC5uYW1lLCBmdW5jKHQgKnRlc3RpbmcuVCkgewoJCQlnb3QsIGVyciA6PSB0dC5uLlZhbHVlKCkKCQkJaWYgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIlN0cmluZ0FycmF5LlZhbHVlKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJCXJldHVybgoJCQl9CgkJCWlmICFyZWZsZWN0LkRlZXBFcXVhbChnb3QsIHR0LndhbnQpIHsKCQkJCXQuRXJyb3JmKCJTdHJpbmdBcnJheS5WYWx1ZSgpID0gJXYsIHdhbnQgJXYiLCBnb3QsIHR0LndhbnQpCgkJCX0KCQl9KQoJfQp9CgpmdW5jIFRlc3RTdHJpbmdBcnJheV9TY2FuKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJd2FudEVyciBib29sCgkJc3JjICAgICBpbnRlcmZhY2V7fQoJCWV4cCAgICAgU3RyaW5nQXJyYXkKCX17CgkJewoJCQluYW1lOiAgICAidmFsaWQiLAoJCQlzcmM6ICAgICBbXWJ5dGUoYHsiYSIsICJiIiwgImMifWApLAoJCQlleHA6ICAgICBTdHJpbmdBcnJheXsiYSIsICJiIiwgImMifSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCQl7CgkJCW5hbWU6ICAgICJuaWwgdmFsdWUiLAoJCQlzcmM6ICAgICBuaWwsCgkJCWV4cDogICAgIFN0cmluZ0FycmF5e30sCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCXNhIDo9ICZTdHJpbmdBcnJheXt9CgkJCWlmIGVyciA6PSBzYS5TY2FuKHR0LnNyYyk7IChlcnIgIT0gbmlsKSAhPSB0dC53YW50RXJyIHsKCQkJCXQuRXJyb3JmKCJTdHJpbmdBcnJheS5TY2FuKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJfQoJCQlpZiB0dC5zcmMgPT0gbmlsICYmIGxlbigqc2EpID4gMCB7CgkJCQl0LkVycm9yZigic2hvdWxkIGJ5IGVtcHR5IikKCQkJfQoJCQlpZiBzYSA9PSBuaWwgJiYgdHQuc3JjICE9IG5pbCB7CgkJCQl0LkVycm9yZigicmVjZWl2ZWQgbnVsbCIpCgkJCX0KCQkJaWYgIXJlZmxlY3QuRGVlcEVxdWFsKHR0LmV4cCwgKnNhKSB7CgkJCQl0LkVycm9yZigiU3RyaW5nQXJyYXkuU2NhbigpIGV4cDogJVsxXXYgKCVbMV1UKSBnb3Q6ICVbMl12ICglWzJdVCkiLCB0dC5leHAsICpzYSkKCQkJfQoJCX0pCgl9Cn0KCmZ1bmMgVGVzdFN0cmluZ0FycmF5X01hcnNoYWxKU09OKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICBTdHJpbmdBcnJheQoJCXdhbnQgICAgW11ieXRlCgkJd2FudEVyciBib29sCgl9ewoJCXsKCQkJbmFtZTogICAgInZhbGlkIiwKCQkJbjogICAgICAgU3RyaW5nQXJyYXl7ImEiLCAiYiIsICJjIn0sCgkJCXdhbnQ6ICAgIFtdYnl0ZShgWyJhIiwiYiIsImMiXWApLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgInZhbGlkIG51bGwiLAoJCQluOiAgICAgICBuaWwsCgkJCXdhbnQ6ICAgIFtdYnl0ZShgbnVsbGApLAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJfQoJZm9yIF8sIHR0IDo9IHJhbmdlIHRlc3RzIHsKCQl0LlJ1bih0dC5uYW1lLCBmdW5jKHQgKnRlc3RpbmcuVCkgewoJCQlnb3QsIGVyciA6PSB0dC5uLk1hcnNoYWxKU09OKCkKCQkJaWYgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIlN0cmluZ0FycmF5Lk1hcnNoYWxKU09OKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJCXJldHVybgoJCQl9CgkJCWlmICFyZWZsZWN0LkRlZXBFcXVhbChnb3QsIHR0LndhbnQpIHsKCQkJCXQuRXJyb3JmKCJTdHJpbmdBcnJheS5NYXJzaGFsSlNPTigpID0gJXYsIHdhbnQgJXYiLCBnb3QsIHR0LndhbnQpCgkJCX0KCQl9KQoJfQp9CgovKioqKioqKioqKioqKioqKioKKiBJbnRBcnJheSBUZXN0cyAqCioqKioqKioqKioqKioqKioqLwoKZnVuYyBUZXN0SW50QXJyYXlfVW5tYXJzaGFsSlNPTih0ICp0ZXN0aW5nLlQpIHsKCXRlc3RzIDo9IFtdc3RydWN0IHsKCQluYW1lICAgIHN0cmluZwoJCW4gICAgICAgSW50QXJyYXkKCQlleHAgICAgIEludEFycmF5CgkJc291cmNlICBbXWJ5dGUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAgICAidmFsaWQiLAoJCQlzb3VyY2U6ICBbXWJ5dGUoYFsxLCAyLCAzXWApLAoJCQlleHA6ICAgICBJbnRBcnJheXsxLCAyLCAzfSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCQl7CgkJCW5hbWU6ICAgICJpbnZhbGlkIDEiLAoJCQlzb3VyY2U6ICBbXWJ5dGUoYHsxLCAyLCAzfWApLAoJCQl3YW50RXJyOiB0cnVlLAoJCX0sCgkJewoJCQluYW1lOiAgICAiaW52YWxpZCAyIiwKCQkJc291cmNlOiAgW11ieXRlKGBbMSwgMiwgImMiXWApLAoJCQl3YW50RXJyOiB0cnVlLAoJCX0sCgkJewoJCQluYW1lOiAgICAiZW1wdHkiLAoJCQlzb3VyY2U6ICBbXWJ5dGV7fSwKCQkJd2FudEVycjogdHJ1ZSwKCQl9LAoJfQoJZm9yIF8sIHR0IDo9IHJhbmdlIHRlc3RzIHsKCQl0LlJ1bih0dC5uYW1lLCBmdW5jKHQgKnRlc3RpbmcuVCkgewoJCQlpZiBlcnIgOj0gdHQubi5Vbm1hcnNoYWxKU09OKHR0LnNvdXJjZSk7IChlcnIgIT0gbmlsKSAhPSB0dC53YW50RXJyIHsKCQkJCXQuRXJyb3JmKCJJbnRBcnJheS5Vbm1hcnNoYWxKU09OKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJfQoJCQlpZiAhdHQud2FudEVyciAmJiAhcmVmbGVjdC5EZWVwRXF1YWwodHQuZXhwLCB0dC5uKSB7CgkJCQl0LkVycm9yZigiSW50QXJyYXkuVW5tYXJzaGFsSlNPTigpIGV4cDogJXYgZ290ICV2IiwgdHQuZXhwLCB0dC5uKQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0SW50QXJyYXlfVmFsdWUodCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgIEludEFycmF5CgkJd2FudCAgICBkcml2ZXIuVmFsdWUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAgICAidmFsaWQiLAoJCQluOiAgICAgICBJbnRBcnJheXsxLCAyLCAzfSwKCQkJd2FudDogICAgZHJpdmVyLlZhbHVlKCJ7MSwyLDN9IiksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWdvdCwgZXJyIDo9IHR0Lm4uVmFsdWUoKQoJCQlpZiAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiSW50QXJyYXkuVmFsdWUoKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQkJcmV0dXJuCgkJCX0KCQkJaWYgIXJlZmxlY3QuRGVlcEVxdWFsKGdvdCwgdHQud2FudCkgewoJCQkJdC5FcnJvcmYoIkludEFycmF5LlZhbHVlKCkgPSAldiwgd2FudCAldiIsIGdvdCwgdHQud2FudCkKCQkJfQoJCX0pCgl9Cn0KCmZ1bmMgVGVzdEludEFycmF5X1NjYW4odCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQl3YW50RXJyIGJvb2wKCQlzcmMgICAgIGludGVyZmFjZXt9CgkJZXhwICAgICBJbnRBcnJheQoJfXsKCQl7CgkJCW5hbWU6ICAgICJ2YWxpZCIsCgkJCXNyYzogICAgIFtdYnl0ZShgezEsIDIsIDN9YCksCgkJCWV4cDogICAgIEludEFycmF5ezEsIDIsIDN9LAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgIm5pbCB2YWx1ZSIsCgkJCXNyYzogICAgIG5pbCwKCQkJZXhwOiAgICAgSW50QXJyYXl7fSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJc2EgOj0gJkludEFycmF5e30KCQkJaWYgZXJyIDo9IHNhLlNjYW4odHQuc3JjKTsgKGVyciAhPSBuaWwpICE9IHR0LndhbnRFcnIgewoJCQkJdC5FcnJvcmYoIkludEFycmF5LlNjYW4oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQl9CgkJCWlmIHR0LnNyYyA9PSBuaWwgJiYgbGVuKCpzYSkgPiAwIHsKCQkJCXQuRXJyb3JmKCJzaG91bGQgYnkgZW1wdHkiKQoJCQl9CgkJCWlmIHNhID09IG5pbCAmJiB0dC5zcmMgIT0gbmlsIHsKCQkJCXQuRXJyb3JmKCJyZWNlaXZlZCBudWxsIikKCQkJfQoJCQlpZiAhcmVmbGVjdC5EZWVwRXF1YWwodHQuZXhwLCAqc2EpIHsKCQkJCXQuRXJyb3JmKCJJbnRBcnJheS5TY2FuKCkgZXhwOiAlWzFddiAoJVsxXVQpIGdvdDogJVsyXXYgKCVbMl1UKSIsIHR0LmV4cCwgKnNhKQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0SW50QXJyYXlfTWFyc2hhbEpTT04odCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgIEludEFycmF5CgkJd2FudCAgICBbXWJ5dGUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAgICAidmFsaWQiLAoJCQluOiAgICAgICBJbnRBcnJheXsxLCAyLCAzfSwKCQkJd2FudDogICAgW11ieXRlKGBbMSwyLDNdYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAgICAidmFsaWQgbnVsbCIsCgkJCW46ICAgICAgIG5pbCwKCQkJd2FudDogICAgW11ieXRlKGBudWxsYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWdvdCwgZXJyIDo9IHR0Lm4uTWFyc2hhbEpTT04oKQoJCQlpZiAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiSW50QXJyYXkuTWFyc2hhbEpTT04oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQkJcmV0dXJuCgkJCX0KCQkJaWYgIXJlZmxlY3QuRGVlcEVxdWFsKGdvdCwgdHQud2FudCkgewoJCQkJdC5FcnJvcmYoIkludEFycmF5Lk1hcnNoYWxKU09OKCkgPSAldiwgd2FudCAldiIsIGdvdCwgdHQud2FudCkKCQkJfQoJCX0pCgl9Cn0KCi8qKioqKioqKioqKioqKioqKioqCiogRmxvYXRBcnJheSBUZXN0cyAqCioqKioqKioqKioqKioqKioqKiovCgpmdW5jIFRlc3RGbG9hdEFycmF5X1VubWFyc2hhbEpTT04odCAqdGVzdGluZy5UKSB7Cgl0ZXN0cyA6PSBbXXN0cnVjdCB7CgkJbmFtZSAgICBzdHJpbmcKCQluICAgICAgIEZsb2F0QXJyYXkKCQlleHAgICAgIEZsb2F0QXJyYXkKCQlzb3VyY2UgIFtdYnl0ZQoJCXdhbnRFcnIgYm9vbAoJfXsKCQl7CgkJCW5hbWU6ICAgICJ2YWxpZCIsCgkJCXNvdXJjZTogIFtdYnl0ZShgWzEuMjMsIDIuMzQsIDMuNDVdYCksCgkJCWV4cDogICAgIEZsb2F0QXJyYXl7MS4yMywgMi4zNCwgMy40NX0sCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAgICAiaW52YWxpZCAxIiwKCQkJc291cmNlOiAgW11ieXRlKGB7MS4yMywgMi4zNCwgMy40NX1gKSwKCQkJd2FudEVycjogdHJ1ZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgImludmFsaWQgMiIsCgkJCXNvdXJjZTogIFtdYnl0ZShgWzEuMjMsIDIuMzQsICJjIl1gKSwKCQkJd2FudEVycjogdHJ1ZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgImVtcHR5IiwKCQkJc291cmNlOiAgW11ieXRle30sCgkJCXdhbnRFcnI6IHRydWUsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJaWYgZXJyIDo9IHR0Lm4uVW5tYXJzaGFsSlNPTih0dC5zb3VyY2UpOyAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiRmxvYXRBcnJheS5Vbm1hcnNoYWxKU09OKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJfQoJCQlpZiAhdHQud2FudEVyciAmJiAhcmVmbGVjdC5EZWVwRXF1YWwodHQuZXhwLCB0dC5uKSB7CgkJCQl0LkVycm9yZigiRmxvYXRBcnJheS5Vbm1hcnNoYWxKU09OKCkgZXhwOiAldiBnb3QgJXYiLCB0dC5leHAsIHR0Lm4pCgkJCX0KCQl9KQoJfQp9CgpmdW5jIFRlc3RGbG9hdEFycmF5X1ZhbHVlKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICBGbG9hdEFycmF5CgkJd2FudCAgICBkcml2ZXIuVmFsdWUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAgICAidmFsaWQiLAoJCQluOiAgICAgICBGbG9hdEFycmF5ezEuMjMsIDIuMzQsIDMuNDV9LAoJCQl3YW50OiAgICBkcml2ZXIuVmFsdWUoInsxLjIzLDIuMzQsMy40NX0iKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJZ290LCBlcnIgOj0gdHQubi5WYWx1ZSgpCgkJCWlmIChlcnIgIT0gbmlsKSAhPSB0dC53YW50RXJyIHsKCQkJCXQuRXJyb3JmKCJGbG9hdEFycmF5LlZhbHVlKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJCXJldHVybgoJCQl9CgkJCWlmICFyZWZsZWN0LkRlZXBFcXVhbChnb3QsIHR0LndhbnQpIHsKCQkJCXQuRXJyb3JmKCJGbG9hdEFycmF5LlZhbHVlKCkgPSAldiwgd2FudCAldiIsIGdvdCwgdHQud2FudCkKCQkJfQoJCX0pCgl9Cn0KCmZ1bmMgVGVzdEZsb2F0QXJyYXlfU2Nhbih0ICp0ZXN0aW5nLlQpIHsKCXRlc3RzIDo9IFtdc3RydWN0IHsKCQluYW1lICAgIHN0cmluZwoJCXdhbnRFcnIgYm9vbAoJCXNyYyAgICAgaW50ZXJmYWNle30KCQlleHAgICAgIEZsb2F0QXJyYXkKCX17CgkJewoJCQluYW1lOiAgICAidmFsaWQiLAoJCQlzcmM6ICAgICBbXWJ5dGUoYHsxLjIzLCAyLjM0LCAzLjQ1fWApLAoJCQlleHA6ICAgICBGbG9hdEFycmF5ezEuMjMsIDIuMzQsIDMuNDV9LAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgIm5pbCB2YWx1ZSIsCgkJCXNyYzogICAgIG5pbCwKCQkJZXhwOiAgICAgRmxvYXRBcnJheXt9LAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJfQoJZm9yIF8sIHR0IDo9IHJhbmdlIHRlc3RzIHsKCQl0LlJ1bih0dC5uYW1lLCBmdW5jKHQgKnRlc3RpbmcuVCkgewoJCQlzYSA6PSAmRmxvYXRBcnJheXt9CgkJCWlmIGVyciA6PSBzYS5TY2FuKHR0LnNyYyk7IChlcnIgIT0gbmlsKSAhPSB0dC53YW50RXJyIHsKCQkJCXQuRXJyb3JmKCJGbG9hdEFycmF5LlNjYW4oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQl9CgkJCWlmIHR0LnNyYyA9PSBuaWwgJiYgbGVuKCpzYSkgPiAwIHsKCQkJCXQuRXJyb3JmKCJzaG91bGQgYnkgZW1wdHkiKQoJCQl9CgkJCWlmIHNhID09IG5pbCAmJiB0dC5zcmMgIT0gbmlsIHsKCQkJCXQuRXJyb3JmKCJyZWNlaXZlZCBudWxsIikKCQkJfQoJCQlpZiAhcmVmbGVjdC5EZWVwRXF1YWwodHQuZXhwLCAqc2EpIHsKCQkJCXQuRXJyb3JmKCJGbG9hdEFycmF5LlNjYW4oKSBleHA6ICVbMV12ICglWzFdVCkgZ290OiAlWzJddiAoJVsyXVQpIiwgdHQuZXhwLCAqc2EpCgkJCX0KCQl9KQoJfQp9CgpmdW5jIFRlc3RGbG9hdEFycmF5X01hcnNoYWxKU09OKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICBGbG9hdEFycmF5CgkJd2FudCAgICBbXWJ5dGUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAgICAidmFsaWQiLAoJCQluOiAgICAgICBGbG9hdEFycmF5ezEuMjMsIDIuMzQsIDMuNDV9LAoJCQl3YW50OiAgICBbXWJ5dGUoYFsxLjIzLDIuMzQsMy40NV1gKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCQl7CgkJCW5hbWU6ICAgICJ2YWxpZCBudWxsIiwKCQkJbjogICAgICAgbmlsLAoJCQl3YW50OiAgICBbXWJ5dGUoYG51bGxgKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJZ290LCBlcnIgOj0gdHQubi5NYXJzaGFsSlNPTigpCgkJCWlmIChlcnIgIT0gbmlsKSAhPSB0dC53YW50RXJyIHsKCQkJCXQuRXJyb3JmKCJGbG9hdEFycmF5Lk1hcnNoYWxKU09OKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJCXJldHVybgoJCQl9CgkJCWlmICFyZWZsZWN0LkRlZXBFcXVhbChnb3QsIHR0LndhbnQpIHsKCQkJCXQuRXJyb3JmKCJGbG9hdEFycmF5Lk1hcnNoYWxKU09OKCkgPSAldiwgd2FudCAldiIsIGdvdCwgdHQud2FudCkKCQkJfQoJCX0pCgl9Cn0KCi8qKioqKioqKioqKioqKioqKioKKiBCb29sQXJyYXkgVGVzdHMgKgoqKioqKioqKioqKioqKioqKiovCgpmdW5jIFRlc3RCb29sQXJyYXlfVW5tYXJzaGFsSlNPTih0ICp0ZXN0aW5nLlQpIHsKCXRlc3RzIDo9IFtdc3RydWN0IHsKCQluYW1lICAgIHN0cmluZwoJCW4gICAgICAgQm9vbEFycmF5CgkJZXhwICAgICBCb29sQXJyYXkKCQlzb3VyY2UgIFtdYnl0ZQoJCXdhbnRFcnIgYm9vbAoJfXsKCQl7CgkJCW5hbWU6ICAgICJ2YWxpZCIsCgkJCXNvdXJjZTogIFtdYnl0ZShgW3RydWUsIGZhbHNlLCB0cnVlXWApLAoJCQlleHA6ICAgICBCb29sQXJyYXl7dHJ1ZSwgZmFsc2UsIHRydWV9LAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgImludmFsaWQgMSIsCgkJCXNvdXJjZTogIFtdYnl0ZShge3RydWUsIGZhbHNlLCB0cnVlfWApLAoJCQl3YW50RXJyOiB0cnVlLAoJCX0sCgkJewoJCQluYW1lOiAgICAiaW52YWxpZCAyIiwKCQkJc291cmNlOiAgW11ieXRlKGBbdHJ1ZSwgZmFsc2UsICJnYXJiYWdlIl1gKSwKCQkJd2FudEVycjogdHJ1ZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgImVtcHR5IiwKCQkJc291cmNlOiAgW11ieXRle30sCgkJCXdhbnRFcnI6IHRydWUsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJaWYgZXJyIDo9IHR0Lm4uVW5tYXJzaGFsSlNPTih0dC5zb3VyY2UpOyAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiQm9vbEFycmF5LlVubWFyc2hhbEpTT04oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQl9CgkJCWlmICF0dC53YW50RXJyICYmICFyZWZsZWN0LkRlZXBFcXVhbCh0dC5leHAsIHR0Lm4pIHsKCQkJCXQuRXJyb3JmKCJCb29sQXJyYXkuVW5tYXJzaGFsSlNPTigpIGV4cDogJXYgZ290ICV2IiwgdHQuZXhwLCB0dC5uKQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0Qm9vbEFycmF5X1ZhbHVlKHQgKnRlc3RpbmcuVCkgewoJdGVzdHMgOj0gW11zdHJ1Y3QgewoJCW5hbWUgICAgc3RyaW5nCgkJbiAgICAgICBCb29sQXJyYXkKCQl3YW50ICAgIGRyaXZlci5WYWx1ZQoJCXdhbnRFcnIgYm9vbAoJfXsKCQl7CgkJCW5hbWU6ICAgICJ2YWxpZCIsCgkJCW46ICAgICAgIEJvb2xBcnJheXt0cnVlLCBmYWxzZSwgdHJ1ZX0sCgkJCXdhbnQ6ICAgIGRyaXZlci5WYWx1ZSgie3RydWUsZmFsc2UsdHJ1ZX0iKSwKCQkJd2FudEVycjogZmFsc2UsCgkJfSwKCX0KCWZvciBfLCB0dCA6PSByYW5nZSB0ZXN0cyB7CgkJdC5SdW4odHQubmFtZSwgZnVuYyh0ICp0ZXN0aW5nLlQpIHsKCQkJZ290LCBlcnIgOj0gdHQubi5WYWx1ZSgpCgkJCWlmIChlcnIgIT0gbmlsKSAhPSB0dC53YW50RXJyIHsKCQkJCXQuRXJyb3JmKCJCb29sQXJyYXkuVmFsdWUoKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQkJcmV0dXJuCgkJCX0KCQkJaWYgIXJlZmxlY3QuRGVlcEVxdWFsKGdvdCwgdHQud2FudCkgewoJCQkJdC5FcnJvcmYoIkJvb2xBcnJheS5WYWx1ZSgpID0gJXYsIHdhbnQgJXYiLCBnb3QsIHR0LndhbnQpCgkJCX0KCQl9KQoJfQp9CgpmdW5jIFRlc3RCb29sQXJyYXlfU2Nhbih0ICp0ZXN0aW5nLlQpIHsKCXRlc3RzIDo9IFtdc3RydWN0IHsKCQluYW1lICAgIHN0cmluZwoJCXdhbnRFcnIgYm9vbAoJCXNyYyAgICAgaW50ZXJmYWNle30KCQlleHAgICAgIEJvb2xBcnJheQoJfXsKCQl7CgkJCW5hbWU6ICAgICJ2YWxpZCIsCgkJCXNyYzogICAgIFtdYnl0ZShge3RydWUsIGZhbHNlLCB0cnVlfWApLAoJCQlleHA6ICAgICBCb29sQXJyYXl7dHJ1ZSwgZmFsc2UsIHRydWV9LAoJCQl3YW50RXJyOiBmYWxzZSwKCQl9LAoJCXsKCQkJbmFtZTogICAgIm5pbCB2YWx1ZSIsCgkJCXNyYzogICAgIG5pbCwKCQkJZXhwOiAgICAgQm9vbEFycmF5e30sCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCXNhIDo9ICZCb29sQXJyYXl7fQoJCQlpZiBlcnIgOj0gc2EuU2Nhbih0dC5zcmMpOyAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiQm9vbEFycmF5LlNjYW4oKSBlcnJvciA9ICV2LCB3YW50RXJyICV2IiwgZXJyLCB0dC53YW50RXJyKQoJCQl9CgkJCWlmIHR0LnNyYyA9PSBuaWwgJiYgbGVuKCpzYSkgPiAwIHsKCQkJCXQuRXJyb3JmKCJzaG91bGQgYnkgZW1wdHkiKQoJCQl9CgkJCWlmIHNhID09IG5pbCAmJiB0dC5zcmMgIT0gbmlsIHsKCQkJCXQuRXJyb3JmKCJyZWNlaXZlZCBudWxsIikKCQkJfQoJCQlpZiAhcmVmbGVjdC5EZWVwRXF1YWwodHQuZXhwLCAqc2EpIHsKCQkJCXQuRXJyb3JmKCJCb29sQXJyYXkuU2NhbigpIGV4cDogJVsxXXYgKCVbMV1UKSBnb3Q6ICVbMl12ICglWzJdVCkiLCB0dC5leHAsICpzYSkKCQkJfQoJCX0pCgl9Cn0KCmZ1bmMgVGVzdEJvb2xBcnJheV9NYXJzaGFsSlNPTih0ICp0ZXN0aW5nLlQpIHsKCXRlc3RzIDo9IFtdc3RydWN0IHsKCQluYW1lICAgIHN0cmluZwoJCW4gICAgICAgQm9vbEFycmF5CgkJd2FudCAgICBbXWJ5dGUKCQl3YW50RXJyIGJvb2wKCX17CgkJewoJCQluYW1lOiAgICAidmFsaWQiLAoJCQluOiAgICAgICBCb29sQXJyYXl7dHJ1ZSwgZmFsc2UsIHRydWV9LAoJCQl3YW50OiAgICBbXWJ5dGUoYFt0cnVlLGZhbHNlLHRydWVdYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgkJewoJCQluYW1lOiAgICAidmFsaWQgbnVsbCIsCgkJCW46ICAgICAgIG5pbCwKCQkJd2FudDogICAgW11ieXRlKGBudWxsYCksCgkJCXdhbnRFcnI6IGZhbHNlLAoJCX0sCgl9Cglmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewoJCXQuUnVuKHR0Lm5hbWUsIGZ1bmModCAqdGVzdGluZy5UKSB7CgkJCWdvdCwgZXJyIDo9IHR0Lm4uTWFyc2hhbEpTT04oKQoJCQlpZiAoZXJyICE9IG5pbCkgIT0gdHQud2FudEVyciB7CgkJCQl0LkVycm9yZigiQm9vbEFycmF5Lk1hcnNoYWxKU09OKCkgZXJyb3IgPSAldiwgd2FudEVyciAldiIsIGVyciwgdHQud2FudEVycikKCQkJCXJldHVybgoJCQl9CgkJCWlmICFyZWZsZWN0LkRlZXBFcXVhbChnb3QsIHR0LndhbnQpIHsKCQkJCXQuRXJyb3JmKCJCb29sQXJyYXkuTWFyc2hhbEpTT04oKSA9ICV2LCB3YW50ICV2IiwgZ290LCB0dC53YW50KQoJCQl9CgkJfSkKCX0KfQoKZnVuYyBUZXN0VG9OdWxsQm9vbCh0ICp0ZXN0aW5nLlQpIHsKCWIgOj0gdHJ1ZQoJYmIgOj0gVG9OdWxsQm9vbCgmYikKCWlmICFiYi5WYWxpZCB7CgkJdC5FcnJvcmYoImV4cGVjdGVkIHZhbGlkLCBnb3QgJXYiLCBiYi5WYWxpZCkKCX0KCWlmICFiYi5Cb29sIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgdHJ1ZSwgZ290ICV2IiwgYmIuQm9vbCkKCX0KCgl2YXIgYjIgKmJvb2wKCWJiMiA6PSBUb051bGxCb29sKGIyKQoJaWYgYmIyLlZhbGlkIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgbm90IHZhbGlkLCBnb3QgJXYiLCBiYjIuVmFsaWQpCgl9CglpZiBiYjIuQm9vbCB7CgkJdC5FcnJvcmYoImV4cGVjdGVkIGZhbHNlLCBnb3QgJXYiLCBiYjIuQm9vbCkKCX0KfQoKZnVuYyBUZXN0VG9OdWxsSW50NjQodCAqdGVzdGluZy5UKSB7CgliIDo9IGludDY0KDEyMykKCWJiIDo9IFRvTnVsbEludDY0KCZiKQoJaWYgIWJiLlZhbGlkIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgdmFsaWQsIGdvdCAldiIsIGJiLlZhbGlkKQoJfQoJaWYgYmIuSW50NjQgIT0gMTIzIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgMTIzLCBnb3QgJXYiLCBiYi5JbnQ2NCkKCX0KCgl2YXIgYjIgKmludDY0CgliYjIgOj0gVG9OdWxsSW50NjQoYjIpCglpZiBiYjIuVmFsaWQgewoJCXQuRXJyb3JmKCJleHBlY3RlZCBub3QgdmFsaWQsIGdvdCAldiIsIGJiMi5WYWxpZCkKCX0KCWlmIGJiMi5JbnQ2NCAhPSAwIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgMCwgZ290ICV2IiwgYmIyLkludDY0KQoJfQp9CgpmdW5jIFRlc3RUb051bGxGbG9hdDY0KHQgKnRlc3RpbmcuVCkgewoJYiA6PSBmbG9hdDY0KDEyMy4xMjMpCgliYiA6PSBUb051bGxGbG9hdDY0KCZiKQoJaWYgIWJiLlZhbGlkIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgdmFsaWQsIGdvdCAldiIsIGJiLlZhbGlkKQoJfQoJaWYgYmIuRmxvYXQ2NCAhPSAxMjMuMTIzIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgMTIzLjEyMywgZ290ICV2IiwgYmIuRmxvYXQ2NCkKCX0KCgl2YXIgYjIgKmZsb2F0NjQKCWJiMiA6PSBUb051bGxGbG9hdDY0KGIyKQoJaWYgYmIyLlZhbGlkIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgbm90IHZhbGlkLCBnb3QgJXYiLCBiYjIuVmFsaWQpCgl9CglpZiBiYjIuRmxvYXQ2NCAhPSAwIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgMCwgZ290ICV2IiwgYmIyLkZsb2F0NjQpCgl9Cn0KCmZ1bmMgVGVzdFRvTnVsbFN0cmluZyh0ICp0ZXN0aW5nLlQpIHsKCWIgOj0gInF3ZSIKCWJiIDo9IFRvTnVsbFN0cmluZygmYikKCWlmICFiYi5WYWxpZCB7CgkJdC5FcnJvcmYoImV4cGVjdGVkIHZhbGlkLCBnb3QgJXYiLCBiYi5WYWxpZCkKCX0KCWlmIGJiLlN0cmluZyAhPSAicXdlIiB7CgkJdC5FcnJvcmYoImV4cGVjdGVkIHF3ZSwgZ290ICV2IiwgYmIuU3RyaW5nKQoJfQoKCXZhciBiMiAqc3RyaW5nCgliYjIgOj0gVG9OdWxsU3RyaW5nKGIyKQoJaWYgYmIyLlZhbGlkIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgbm90IHZhbGlkLCBnb3QgJXYiLCBiYjIuVmFsaWQpCgl9CglpZiBiYjIuU3RyaW5nICE9ICIiIHsKCQl0LkVycm9yZigiZXhwZWN0ZWQgPGVtcHR5IHN0cmluZz4sIGdvdCAldiIsIGJiMi5TdHJpbmcpCgl9Cn0KCmZ1bmMgVGVzdFRvTnVsbFRpbWUodCAqdGVzdGluZy5UKSB7Cgl0aW0gOj0gdGltZS5Ob3coKQoJYmIgOj0gVG9OdWxsVGltZSh0aW0pCglpZiAhYmIuVmFsaWQgewoJCXQuRXJyb3JmKCJleHBlY3RlZCB2YWxpZCwgZ290ICV2IiwgYmIuVmFsaWQpCgl9CglpZiBiYi5UaW1lICE9IHRpbSB7CgkJdC5FcnJvcmYoImV4cGVjdGVkICV2LCBnb3QgJXYiLCB0aW0sIGJiLlRpbWUpCgl9CgoJdGltID0gdGltZS5UaW1le30KCWJiID0gVG9OdWxsVGltZSh0aW0pCglpZiBiYi5WYWxpZCB7CgkJdC5FcnJvcmYoImV4cGVjdGVkIGludmFsaWQsIGdvdCAldiIsIGJiLlZhbGlkKQoJfQoJaWYgYmIuVGltZSAhPSB0aW0gewoJCXQuRXJyb3JmKCJleHBlY3RlZCAldiwgZ290ICV2IiwgdGltLCBiYi5UaW1lKQoJfQp9Cnt7ZW5kfX0K\"")
	}
